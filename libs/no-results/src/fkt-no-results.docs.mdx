import { Meta, Story } from '@storybook/addon-docs/blocks';
import * as fktNoResultsStories from './fkt-no-results.stories';

<Meta of={fktNoResultsStories} />

The **FktNoResults** component provides a consistent and configurable way to display empty states when no data is available. It supports custom icons, descriptions, and action buttons to guide users on what to do next.

## Key Features

- **Custom Icons**: Configurable icon with adjustable size
- **Flexible Content**: Title, description, and action button support
- **Action Integration**: Built-in button actions for user guidance
- **Responsive Design**: Adapts to container size and content
- **Consistent Styling**: Follows design system typography and spacing
- **Reusable Configuration**: Type-safe configuration interface
- **Accessibility**: Screen reader friendly with proper semantic structure

## Basic Usage

```typescript
import { FktNoResultsComponent, FktNoResults } from '@frakton-ng/core';

@Component({
  selector: 'app-example',
  template: `
    <fkt-no-results
      [noResults]="noResultsConfig"
    />
  `,
  standalone: true,
  imports: [FktNoResultsComponent]
})
export class ExampleComponent {
  noResultsConfig: FktNoResults = {
    label: 'No items found',
    description: 'Try adjusting your search criteria or filters.',
    icon: { name: 'magnifying-glass', size: '80px' },
    action: {
      text: 'Clear Filters',
      theme: 'primary',
      variant: 'filled',
      click: () => this.clearFilters()
    }
  };

  clearFilters() {
    // Clear filter logic
  }
}
```

## Advanced Usage

### With Multiple Actions
```typescript
@Component({
  template: `
    <div class="no-results-with-actions">
      <fkt-no-results [noResults]="baseConfig" />
      <fkt-buttons-list
        [actions]="additionalActions"
        class="mt-4"
      />
    </div>
  `
})
export class MultiActionNoResultsComponent {
  baseConfig: FktNoResults = {
    label: 'No data available',
    description: 'Get started by adding some content.',
    icon: { name: 'document-plus' }
  };

  additionalActions = [
    {
      text: 'Import Data',
      theme: 'primary',
      variant: 'outlined',
      click: () => this.importData()
    },
    {
      text: 'Add Manually',
      theme: 'primary',
      variant: 'filled',
      click: () => this.addManually()
    }
  ];
}
```

### Dynamic Configuration
```typescript
@Component({
  template: `
    <fkt-no-results [noResults]="currentNoResults()" />
  `
})
export class DynamicNoResultsComponent {
  searchQuery = signal('');

  currentNoResults = computed(() => {
    const query = this.searchQuery();

    if (query) {
      return {
        label: 'No search results',
        description: `No results found for "${query}".`,
        icon: { name: 'magnifying-glass', size: '80px' },
        action: {
          text: 'Clear Search',
          theme: 'primary',
          variant: 'outlined',
          click: () => this.searchQuery.set('')
        }
      } as FktNoResults;
    }

    return {
      label: 'Start searching',
      description: 'Enter a search term to find results.',
      icon: { name: 'magnifying-glass', size: '80px' }
    } as FktNoResults;
  });
}
```

## Configuration Options

### Input Properties
- **`noResults`**: `FktNoResults` - Configuration object for the no results display (required)

### FktNoResults Interface
```typescript
interface FktNoResults {
  label: string;                    // Main heading text (required)
  icon?: {                         // Optional icon configuration
    name: FktIconName;            // Icon name from icon library
    size?: string;                // Icon size (default: '116px')
  };
  description?: string;             // Optional descriptive text
  action?: FktButtonAction;         // Optional action button
}
```

### FktButtonAction Interface
```typescript
interface FktButtonAction {
  text: string;                     // Button text
  theme: FktButtonTheme;           // Button theme
  variant: FktButtonVariant;       // Button variant
  click: () => void;               // Click handler
  // ... other button properties
}
```

## Use Cases

Ideal for search results, data tables, file listings, user lists, shopping carts, and any scenario where empty states need clear communication and user guidance. Perfect for integration with tables, autocomplete components, and custom lists.

## Accessibility

- **Semantic Structure**: Uses proper heading hierarchy (h3)
- **Screen Reader Support**: All text content is accessible
- **Focus Management**: Action buttons receive proper focus
- **ARIA Labels**: Icons have appropriate ARIA attributes
- **High Contrast**: Supports system high contrast modes

## Performance

- **Lightweight**: Minimal DOM structure and styling
- **No Heavy Dependencies**: Uses only core Angular features
- **Efficient Rendering**: Simple template with conditional rendering
- **Memory Efficient**: No complex state management

## Examples

### Simple No Results

Basic no results display with just a label, perfect for minimal empty states.

<Story of={fktNoResultsStories.Simple} />

```typescript
@Component({
  selector: 'app-example',
  template: `
    <fkt-no-results
      [noResults]="simpleConfig"
    />
  `,
  standalone: true,
  imports: [FktNoResultsComponent]
})
export class ExampleComponent {
  simpleConfig: FktNoResults = {
    label: 'No results found'
  };
}
```

### With Icon and Description

No results display with an icon and descriptive text for better user understanding.

<Story of={fktNoResultsStories.WithIconAndDescription} />

```typescript
@Component({
  selector: 'app-example',
  template: `
    <fkt-no-results
      [noResults]="detailedConfig"
    />
  `,
  standalone: true,
  imports: [FktNoResultsComponent]
})
export class ExampleComponent {
  detailedConfig: FktNoResults = {
    label: 'No products available',
    description: 'We couldn\'t find any products matching your criteria.',
    icon: { name: 'shopping-bag', size: '96px' }
  };
}
```

### With Action Button

Complete no results state with an action button to guide users on next steps.

<Story of={fktNoResultsStories.WithAction} />

```typescript
@Component({
  selector: 'app-example',
  template: `
    <fkt-no-results
      [noResults]="actionableConfig"
    />
  `,
  standalone: true,
  imports: [FktNoResultsComponent]
})
export class ExampleComponent {
  actionableConfig: FktNoResults = {
    label: 'No tasks assigned',
    description: 'You don\'t have any tasks assigned yet.',
    icon: { name: 'clipboard-document-list' },
    action: {
      text: 'Create Task',
      theme: 'primary',
      variant: 'filled',
      click: () => this.createNewTask()
    }
  };

  createNewTask() {
    console.log('Creating new task...');
  }
}
```

### Search Results

No results state specifically designed for search scenarios with clear search action.

<Story of={fktNoResultsStories.SearchResults} />

```typescript
@Component({
  selector: 'app-example',
  template: `
    <fkt-no-results
      [noResults]="searchConfig"
    />
  `,
  standalone: true,
  imports: [FktNoResultsComponent]
})
export class ExampleComponent {
  searchQuery = 'angular components';

  searchConfig: FktNoResults = {
    label: 'No search results',
    description: `No results found for "${this.searchQuery}". Try different keywords.`,
    icon: { name: 'magnifying-glass', size: '80px' },
    action: {
      text: 'Clear Search',
      theme: 'primary',
      variant: 'outlined',
      click: () => this.clearSearch()
    }
  };

  clearSearch() {
    this.searchQuery = '';
    console.log('Search cleared');
  }
}
```

### Data Table Empty State

No results configuration optimized for data tables with add record functionality.

<Story of={fktNoResultsStories.DataTable} />

```typescript
@Component({
  selector: 'app-example',
  template: `
    <fkt-no-results
      [noResults]="tableConfig"
    />
  `,
  standalone: true,
  imports: [FktNoResultsComponent]
})
export class ExampleComponent {
  tableConfig: FktNoResults = {
    label: 'No data available',
    description: 'There are no records to display at this time.',
    icon: { name: 'table-cells', size: '100px' },
    action: {
      text: 'Add Record',
      theme: 'primary',
      variant: 'filled',
      click: () => this.openAddRecordModal()
    }
  };

  openAddRecordModal() {
    console.log('Opening add record modal...');
  }
}
```

### File Upload Empty State

No results state for file management interfaces with upload functionality.

<Story of={fktNoResultsStories.FileUpload} />

```typescript
@Component({
  selector: 'app-example',
  template: `
    <fkt-no-results
      [noResults]="filesConfig"
    />
  `,
  standalone: true,
  imports: [FktNoResultsComponent]
})
export class ExampleComponent {
  filesConfig: FktNoResults = {
    label: 'No files found',
    description: 'This folder is empty. Upload some files to get started.',
    icon: { name: 'folder-open', size: '120px' },
    action: {
      text: 'Upload Files',
      theme: 'primary',
      variant: 'filled',
      icon: 'arrow-up-tray',
      click: () => this.openFileUpload()
    }
  };

  openFileUpload() {
    console.log('Opening file upload dialog...');
  }
}
```

### Compact Size

Compact no results display for smaller containers or inline usage.

<Story of={fktNoResultsStories.Compact} />

```typescript
@Component({
  selector: 'app-example',
  template: `
    <div class="w-64 h-48 border border-gray-300 p-4">
      <fkt-no-results
        [noResults]="compactConfig"
      />
    </div>
  `,
  standalone: true,
  imports: [FktNoResultsComponent]
})
export class ExampleComponent {
  compactConfig: FktNoResults = {
    label: 'No data',
    icon: { name: 'exclamation-circle', size: '60px' },
    description: 'Data will appear here when available.'
  };
}
```
```
