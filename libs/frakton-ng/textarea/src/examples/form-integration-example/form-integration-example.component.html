<div class="container">
	<h3>Contact Form</h3>

	<form (submit)="handleSubmit()">
		<div class="container__form">
			<div>
				<fkt-input
					[control]="form.name"
					[label]="'Name'"
					[placeholder]="'Your name'"
					[type]="'text'"
				/>
				<fkt-field-error [show]="form.name().invalid() && form.name().touched()"
								 [error]="form.name().errors()[0]?.message"/>
			</div>
			<div>
				<fkt-input
					[control]="form.email"
					[label]="'Email'"
					[placeholder]="'your@email.com'"
					[type]="'email'"
				/>
				<fkt-field-error [show]="form.email().invalid() && form.email().touched()"
								 [error]="form.email().errors()[0]?.message"/>
			</div>
			<div>
				<fkt-textarea
					[control]="form.message"
					autoExpand
					noResize
					[label]="'Message'"
					[placeholder]="'Please describe your inquiry in detail...'"
				/>
				<fkt-field-error [show]="form.message().invalid() && form.message().touched()"
								 [error]="form.message().errors()[0]?.message"/>
			</div>
			<div>
				<fkt-textarea
					[control]="form.additionalInfo"
					autoExpand
					noResize
					[label]="'Additional Information (Optional)'"
					[placeholder]="'Any other details you would like to share...'"
				/>
				<fkt-field-error [show]="form.additionalInfo().invalid() && form.additionalInfo().touched()"
								 [error]="form.additionalInfo().errors()[0]?.message"/>
			</div>


			<div class="container__form__footer">
				<div class="container__form__footer-message">
						<span [class.container__form__footer-message--valid]="form().valid()">
							{{ form().valid() ? 'âœ“ Form is valid' : 'Please fill all required fields' }}
						</span>
				</div>

				<div class="container__form__actions">
					<fkt-button
						(click)="resetForm()"
						text="Reset"
						theme="stroked"
					>
					</fkt-button>
					<fkt-button
						type="submit"
						text="Submit"
						[disabled]="!form().valid()"
					>
					</fkt-button>
				</div>
			</div>
		</div>

	</form>

	@if (submittedData()) {
		<div class="container__success-message">
			<h4>Form Submitted Successfully!</h4>
			<pre>{{ submittedData() | json }}</pre>
		</div>
	}
</div>
