import {ArgTypes, Controls, Meta, Story} from '@storybook/addon-docs/blocks';
import * as fktAutocompleteStories from './fkt-autocomplete.stories';
import {StoryDoc} from "../../.storybook/blocks/StoryDoc";

<Meta of={fktAutocompleteStories} />

The **FktAutocomplete** component provides a powerful and flexible autocomplete input with dropdown options, search functionality, and support for custom actions. Built with Angular signals and reactive patterns, it offers seamless integration with forms and dynamic data sources.

## Key Features

- **Real-time Search**: Filter options as user types with search event emission
- **Auto-creation**: Allow users to create new options by typing custom values
- **Action Buttons**: Add custom actions to each option (edit, delete, favorite, etc.)
- **Loading States**: Built-in support for async data loading with loading indicators
- **Custom No Results**: Configurable messaging when no options match search criteria
- **Form Integration**: Seamless integration with SignalFormControl and form validation
- **Keyboard Navigation**: Full keyboard support for accessibility and efficiency
- **Dynamic Options**: Support for reactive option lists that update in real-time

## Configuration Options

<ArgTypes/>

### Types

```typescript
interface FktAutocompleteOption {
  value: string | number;  // Unique identifier for the option
  label: string;           // Display text shown to user
}
```

## Examples

<StoryDoc of={fktAutocompleteStories.BasicAutocomplete}/>
<StoryDoc of={fktAutocompleteStories.WithPreselectedValue}/>
<StoryDoc of={fktAutocompleteStories.WithCustomActions}/>
<StoryDoc of={fktAutocompleteStories.AutoCreationMode}/>
<StoryDoc of={fktAutocompleteStories.LoadingState}/>
<StoryDoc of={fktAutocompleteStories.CustomNoResults}/>
<StoryDoc of={fktAutocompleteStories.CompleteExample}/>
<StoryDoc of={fktAutocompleteStories.DisabledState}/>

## Use Cases

### User Selection
Perfect for selecting users, customers, or any entity from a large dataset:
- User mentions in comments
- Assignee selection in task management
- Customer selection in CRM systems

### Tag Management
Ideal for tag-based systems with creation capabilities:
- Blog post tagging
- Product categorization
- Skill tagging for profiles

### Location Selection
Great for location-based inputs:
- Country/state selection
- City autocomplete
- Address suggestions

### Product Search
Excellent for product catalogs:
- E-commerce product search
- Inventory selection
- Service picking

## Accessibility

- **Keyboard Navigation**: Arrow keys navigate options, Enter selects, Escape closes
- **Screen Reader Support**: Proper ARIA labels and announcements
- **Focus Management**: Logical focus flow and visual indicators
- **High Contrast**: Supports system high contrast modes
- **Label Association**: Proper label-input relationships

