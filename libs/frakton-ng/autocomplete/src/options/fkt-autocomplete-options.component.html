<ul class="overlay">
	@if (loading()) {
		<div class="spinner-container">
			<fkt-spinner/>
		</div>
	} @else {
		@for (option of options(); track option.value) {
			<li
				(click)="select.emit(option)"
			>
				<div class="label-container">
					@if (option.value === selected()) {
						<fkt-icon
							name="check"
						/>
					} @else if(selected()) {
						<div class="label-icon-placeholder"></div>
					}

					<div class="label">
						@if (option.value === AUTOCOMPLETE_ADD_OPTION) {
							<fkt-icon name="plus"/>
							{{ option.label | call: formatAddOption }}
						} @else {
							{{ option.label }}
						}
					</div>
				</div>

				<div>
					<fkt-buttons-list
						(click)="$event.stopPropagation()"
						[context]="option"
						[actions]="actions()"
					/>
				</div>
			</li>
		} @empty {
			<fkt-no-results
				[noResults]="noResults()!"
			/>
		}
	}
</ul>
