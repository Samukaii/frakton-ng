// <design-tokens>
/*
Size of the checkbox input (width and height).
@name --fkt-checkbox-size
@reference --fkt-space-lg
@category Spacing
@type size
*/
$checkbox-size: var(--fkt-checkbox-size, var(--fkt-space-lg));

/*
Border color of the checkbox in its default state.
@name --fkt-checkbox-border-color
@reference --fkt-color-neutral-500
@category Colors
@type color
*/
$border-color: var(--fkt-checkbox-border-color, var(--fkt-color-neutral-500));

/*
Background color of the checkbox in its default state.
@name --fkt-checkbox-background-color
@reference transparent
@category Colors
@type color
*/
$background-color: var(--fkt-checkbox-background-color, transparent);

/*
Border radius of the checkbox.
@name --fkt-checkbox-border-radius
@reference --fkt-radius-xs
@category Spacing
@type size
*/
$border-radius: var(--fkt-checkbox-border-radius, var(--fkt-radius-xs));

/*
Border width of the checkbox.
@name --fkt-checkbox-border-width
@reference 2px
@category Spacing
@type size
*/
$border-width: var(--fkt-checkbox-border-width, 2px);

/*
Background color of the checkbox when checked.
@name --fkt-checkbox-checked-background-color
@reference --fkt-color-primary
@category Colors
@type color
*/
$checked-background-color: var(--fkt-checkbox-checked-background-color, var(--fkt-color-primary));

/*
Border color of the checkbox when checked.
@name --fkt-checkbox-checked-border-color
@reference --fkt-color-primary
@category Colors
@type color
*/
$checked-border-color: var(--fkt-checkbox-checked-border-color, var(--fkt-color-primary));

/*
Color of the checkmark icon.
@name --fkt-checkbox-checkmark-color
@reference --fkt-color-neutral-100
@category Colors
@type color
*/
$checkmark-color: var(--fkt-checkbox-checkmark-color, var(--fkt-color-neutral-100));

/*
Margin between checkbox and label text.
@name --fkt-checkbox-label-margin
@reference --fkt-space-xs
@category Spacing
@type size
*/
$label-margin: var(--fkt-checkbox-label-margin, var(--fkt-space-xs));

/*
Font size of the label text.
@name --fkt-checkbox-label-font-size
@reference --fkt-font-size-md
@category Typography
@type size
*/
$label-font-size: var(--fkt-checkbox-label-font-size, var(--fkt-font-size-md));

/*
Color of the label text in invalid state.
@name --fkt-checkbox-invalid-color
@reference --fkt-color-danger
@category Colors
@type color
*/
$invalid-color: var(--fkt-checkbox-invalid-color, var(--fkt-color-danger));

/*
Opacity of the checkbox when disabled.
@name --fkt-checkbox-disabled-opacity
@reference 0.4
@category Effects
@type number
*/
$disabled-opacity: var(--fkt-checkbox-disabled-opacity, 0.4);

/*
Width of the checkmark stroke.
@name --fkt-checkbox-checkmark-width
@reference 2px
@category Spacing
@type size
*/
$checkmark-width: var(--fkt-checkbox-checkmark-width, 2px);

// </design-tokens>

:host {
	display: block;
}


label {
	display: inline-flex;
	align-items: center;
	cursor: pointer;

	span {
		margin-left: $label-margin;
		font-size: $label-font-size;
		user-select: none;
	}

	input[type="checkbox"] {
		appearance: none;
		width: $checkbox-size;
		height: $checkbox-size;
		border: $border-width solid $border-color;
		border-radius: $border-radius;
		outline: none;
		transition: var(--fkt-transition-base);
		position: relative;
		cursor: pointer;
		background: $background-color;

		&::before {
			content: '';
			position: absolute;
			top: 2px;
			left: 5px;
			width: 4px;
			height: 8px;
			border-right: $checkmark-width solid $checkmark-color;
			border-bottom: $checkmark-width solid $checkmark-color;
			transform: rotate(45deg) scale(0);
			transition: var(--fkt-transition-base);
			pointer-events: none;
		}

		&:checked {
			background-color: $checked-background-color;
			border-color: $checked-border-color;

			&::before {
				transform: rotate(45deg) scale(1);
			}
		}
	}

	&.invalid {
		color: $invalid-color;

    input[type="checkbox"] {
      border-color: $invalid-color;
    }
	}

	&.disabled {
		filter: grayscale(1);
		cursor: not-allowed;
		opacity: $disabled-opacity;

		input[type="checkbox"] {
			cursor: not-allowed;
		}
	}

}

