// <design-tokens>
/*
Vertical padding inside the input field (top and bottom spacing between border and content).
@name --fkt-input-vertical-padding
@reference --fkt-space-md
@component Field
@category Spacing
@type size
 */
$input-vertical-padding: var(--fkt-input-vertical-padding, var(--fkt-space-md));
/*
Horizontal padding inside the input field (left and right spacing between border and content).
@name --fkt-input-horizontal-padding
@reference --fkt-space-md
@component Field
@category Spacing
@type size
 */
$input-horizontal-padding: var(--fkt-input-horizontal-padding, var(--fkt-space-md));

/*
Border color of the input in its normal (default) state.
@name --fkt-input-border-color
@reference --fkt-color-neutral-400
@component Field
@category Colors
@type color
 */
$border-color: var(--fkt-input-border-color, var(--fkt-color-neutral-400));

/*
Border color of the input when it gets focused
@name --fkt-input-border-focus-color
@reference --fkt-color-brand-secondary
@component Field
@category Colors
@type color
 */
$border-focus-color: var(--fkt-input-border-focus-color, var(--fkt-color-brand-secondary));

/*
Color of the label in its normal (default) state.
@name --fkt-input-label-color
@reference --fkt-color-neutral-500
@component Field
@category Colors
@type color
 */
$label-color: var(--fkt-input-label-color, var(--fkt-color-neutral-500));

/*
Color of the label when it gets focused
@name --fkt-input-label-focus-color
@reference --fkt-color-brand-secondary
@component Field
@category Colors
@type color
 */
$label-focus-color: var(--fkt-input-label-focus-color, var(--fkt-color-brand-secondary));

/*
Border radius for input
@name --fkt-input-border-radius
@reference --fkt-radius-lg
@component Field
@category Spacing
@type size
 */
$border-radius: var(--fkt-input-border-radius, var(--fkt-radius-lg));

/*
Font size for input text and placeholder.
@name --fkt-input-font-size
@reference --fkt-font-size-md
@component Field
@category Typography
@type size
 */
$font-size: var(--fkt-input-font-size, var(--fkt-font-size-md));
/*
Color for text written into input
@name --fkt-input-text-color
@reference --fkt-color-neutral-900
@component Field
@category Colors
@type color
 */
$text-color: var(--fkt-input-text-color, var(--fkt-color-neutral-900));

// </design-tokens>

* {
	box-sizing: border-box;
}

:host {
	display: block;
	border-radius: $border-radius;
	position: relative;
	border-color: $border-color;
	transition: var(--fkt-transition-base);
	scroll-behavior: smooth;
	width: 100%;

	.numeric-control {
		width: fit-content;
		display: flex;
		flex-direction: column;
		pointer-events: auto;
		gap: .2rem;
		padding-right: .2rem;

		fkt-icon {
			font-size: var(--fkt-font-size-xs);
			background-color: var(--fkt-color-neutral-300);
			transition: var(--fkt-transition-base);
			cursor: pointer;
			color: var(--fkt-color-neutral-500);
			padding: 0 .2rem;
			font-weight: var(--fkt-font-semibold);

			&:hover {
				background-color: var(--fkt-color-neutral-400);
			}
		}
	}

	.input {
		width: 100%;
		position: relative;
		border-radius: $border-radius;
		min-height: calc(20px + calc($input-vertical-padding * 2));
		box-sizing: border-box;
		display: flex;
		align-items: center;

		.border {
			position: absolute;
			left: 0;
			top: 0;
			user-select: none;
			pointer-events: none;
			height: 100%;
			width: 100%;
			display: flex;
			align-items: flex-end;

			.left {
				height: 100%;
				border-radius: $border-radius 0 0 $border-radius;
				border-style: solid;
				border-color: $border-color;
				border-top-width: 1px;
				border-bottom-width: 1px;
				border-left-width: 1px;
				border-right-width: 0;
				width: $input-horizontal-padding;
			}

			.center {
				height: 100%;
				position: relative;
				border-style: solid;
				border-color: $border-color;
				border-top-width: 1px;
				border-bottom-width: 1px;
				border-left-width: 0;
				border-right-width: 0;
				width: fit-content;
				display: flex;
				align-items: center;

				label {
					position: relative;
					pointer-events: none;
					font-size: var(--fkt-font-size-sm);
					transition: var(--fkt-transition-base);
					color: $label-color;
					white-space: nowrap;

					&.disabled {
						opacity: 40%;
						filter: grayscale(1);
						cursor: not-allowed;
					}

					&.error {
						color: var(--fkt-color-danger);
					}
				}

				&.no-label {
					width: 0;

					label {
						display: none;
					}
				}
			}

			.right {
				height: 100%;
				border-radius: 0 $border-radius $border-radius 0;
				border-style: solid;
				border-color: $border-color;
				border-top-width: 1px;
				border-bottom-width: 1px;
				border-left-width: 0;
				border-right-width: 1px;
				width: 100%;
				display: flex;
				justify-content: flex-end;
				align-items: center;
			}

			&.error {
				.center, .left, .right {
					border-color: var(--fkt-color-danger);
				}

				.center label {
					color: var(--fkt-color-danger);
				}
			}

			&.disabled {
				.center, .left, .right {
					opacity: 60%;
					filter: grayscale(1);
					cursor: not-allowed;
				}
			}

			&.focused {
				.center {
					label {
						color: $label-focus-color;
					}
				}

				.left, .right, .center {
					border-color: $border-focus-color;
				}
			}

			&.float {
				.center {
					border-top-width: 0;

					label {
						z-index: 50;
						font-size: var(--fkt-font-size-xs);
						margin: 0 var(--fkt-space-3xs);
						translate: 0 calc(calc(calc($input-vertical-padding + .5rem) * -1) - 1px)
					}
				}
			}
		}


		input {
			box-sizing: border-box;
			outline: none;
			font-size: $font-size;
			width: 100%;
			border: none;
			background-color: transparent;
			color: $text-color;

			&::placeholder {
				opacity: 0;
				color: var(--fkt-color-neutral-500);
			}

			&:disabled {
				opacity: 40%;
				filter: grayscale(1);
				cursor: not-allowed;
			}

			&.error {
				border-color: var(--fkt-color-danger);
			}

			&.password {
				padding-right: var(--fkt-space-3xl);
			}

			&.show-placeholder {
				&::placeholder {
					opacity: 1;
				}
			}

			&.no-label {
				&::placeholder {
					opacity: 1;
				}
			}
		}

		&__suffix {
			pointer-events: none;
			top: 0;
			left: 0;
			width: 100%;
			display: flex;
			align-items: center;
			justify-content: end;
			height: 100%;

			&-password {
				margin-right: .5rem;
				cursor: pointer;

				fkt-button {
					pointer-events: auto;
				}
			}

			&-content {
				pointer-events: auto;
				margin-right: .5rem;
			}
		}
	}
}
