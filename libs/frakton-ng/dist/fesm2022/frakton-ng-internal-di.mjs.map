{"version":3,"file":"frakton-ng-internal-di.mjs","sources":["../../internal/di/tokens/window.ts","../../internal/di/inject-window-scroll.ts","../../internal/di/frakton-ng-internal-di.ts"],"sourcesContent":["import { InjectionToken } from \"@angular/core\";\r\n\r\nexport const WINDOW = new InjectionToken<Window>('window', {\r\n\tfactory: () => window\r\n});\r\n","import { DestroyRef, inject, signal } from '@angular/core';\r\nimport { FktGeometryPoint } from 'frakton-ng/internal/types';\r\nimport { WINDOW } from './tokens';\r\n\r\nexport const injectWindowScroll = () => {\r\n\tconst destroyRef = inject(DestroyRef);\r\n\tconst window = inject(WINDOW);\r\n\r\n\tconst scroll = signal<FktGeometryPoint>({\r\n\t\tx: window.scrollX,\r\n\t\ty: window.scrollY,\r\n\t});\r\n\r\n\tconst onScroll = () => {\r\n\t\tscroll.set({\r\n\t\t\tx: window.scrollX,\r\n\t\t\ty: window.scrollY,\r\n\t\t})\r\n\t}\r\n\r\n\twindow.addEventListener('scroll', onScroll);\r\n\r\n\tdestroyRef.onDestroy(() => {\r\n\t\twindow.removeEventListener('scroll', onScroll);\r\n\t});\r\n\r\n\treturn scroll.asReadonly();\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;MAEa,MAAM,GAAG,IAAI,cAAc,CAAS,QAAQ,EAAE;AAC1D,IAAA,OAAO,EAAE,MAAM;AACf,CAAA;;ACAM,MAAM,kBAAkB,GAAG,MAAK;AACtC,IAAA,MAAM,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;AACrC,IAAA,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;IAE7B,MAAM,MAAM,GAAG,MAAM,CAAmB;QACvC,CAAC,EAAE,MAAM,CAAC,OAAO;QACjB,CAAC,EAAE,MAAM,CAAC,OAAO;AACjB,KAAA,EAAA,IAAA,SAAA,GAAA,CAAA,EAAA,SAAA,EAAA,QAAA,EAAA,CAAA,GAAA,EAAA,CAAA,CAAC;IAEF,MAAM,QAAQ,GAAG,MAAK;QACrB,MAAM,CAAC,GAAG,CAAC;YACV,CAAC,EAAE,MAAM,CAAC,OAAO;YACjB,CAAC,EAAE,MAAM,CAAC,OAAO;AACjB,SAAA,CAAC;AACH,IAAA,CAAC;AAED,IAAA,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,QAAQ,CAAC;AAE3C,IAAA,UAAU,CAAC,SAAS,CAAC,MAAK;AACzB,QAAA,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,QAAQ,CAAC;AAC/C,IAAA,CAAC,CAAC;AAEF,IAAA,OAAO,MAAM,CAAC,UAAU,EAAE;AAC3B;;AC3BA;;AAEG;;;;"}