{"version":3,"file":"frakton-ng-textarea.mjs","sources":["../../textarea/src/fkt-textarea.component.ts","../../textarea/src/fkt-textarea.component.html","../../textarea/src/frakton-ng-textarea.ts"],"sourcesContent":["import {\r\n\tAfterViewInit,\r\n\tbooleanAttribute,\r\n\tChangeDetectionStrategy,\r\n\tComponent,\r\n\teffect,\r\n\tElementRef,\r\n\tinput,\r\n\tuntracked,\r\n\tviewChild,\r\n} from '@angular/core';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { FktFieldErrorComponent } from 'frakton-ng/field-error';\r\nimport { SignalFormControl, SignalFormControlDirective } from 'frakton-ng/forms';\r\nimport { MarkUsed } from 'frakton-ng/internal/utils';\r\n\r\n@Component({\r\n\tselector: 'fkt-textarea',\r\n\timports: [\r\n\t\tReactiveFormsModule,\r\n\t\tFktFieldErrorComponent,\r\n\t\tSignalFormControlDirective,\r\n\t],\r\n\ttemplateUrl: './fkt-textarea.component.html',\r\n\tstyleUrl: './fkt-textarea.component.scss',\r\n\tchangeDetection: ChangeDetectionStrategy.OnPush,\r\n\thost: {\r\n\t\t'[class.disabled]': 'control().disabled()'\r\n\t}\r\n})\r\nexport class FktTextareaComponent implements AfterViewInit {\r\n\tcontrol = input.required<SignalFormControl<any>>();\r\n\tlabel = input.required<string>();\r\n\tplaceholder = input('');\r\n\tautoExpand = input(false, {transform: booleanAttribute});\r\n\r\n\tprivate element = viewChild.required('textarea', { read: ElementRef });\r\n\r\n\t@MarkUsed()\r\n\tprotected autoExpandWhenValueChanges = effect(() => {\r\n\t\tthis.control().value();\r\n\r\n\t\tuntracked(() => {\r\n\t\t\tthis.autoExpandElement();\r\n\t\t})\r\n\t});\r\n\r\n\tngAfterViewInit() {\r\n\t\tthis.autoExpandElement()\r\n\t}\r\n\r\n\tfocus() {\r\n\t\tconst element = this.element()?.nativeElement as\r\n\t\t\t| HTMLTextAreaElement\r\n\t\t\t| undefined;\r\n\r\n\t\telement?.focus();\r\n\t}\r\n\r\n\tprotected autoExpandElement() {\r\n\t\tif(!this.autoExpand()) return;\r\n\r\n\t\tconst textarea = this.element().nativeElement as HTMLTextAreaElement;\r\n\t\tconst VERTICAL_PADDING = 8;\r\n\r\n\t\ttextarea.style.height = 'auto';\r\n\t\ttextarea.style.height = textarea.scrollHeight + VERTICAL_PADDING + 'px';\r\n\t}\r\n}\r\n","<div class=\"label-container\">\r\n\t<div\r\n\t\t[class.error]=\"!!error.message()\"\r\n\t\t[class.float]=\"control().viewValue()\"\r\n\t\t[class.disabled]=\"control().disabled()\"\r\n\t\tclass=\"label-wrapper\">\r\n\t\t<label\r\n\t\t\taria-hidden=\"true\"\r\n\t\t>{{ label() }}</label>\r\n\t</div>\r\n</div>\r\n\r\n<div class=\"input\">\r\n\t<textarea\r\n\t\t[attr.aria-label]=\"label()\"\r\n\t\t[class.error]=\"!!error.message()\"\r\n\t\t[signalFormControl]=\"control()\"\r\n\t\t#textarea\r\n\t\t[placeholder]=\"placeholder()\"\r\n\t></textarea>\r\n</div>\r\n\r\n\r\n<fkt-field-error #error [control]=\"control()\"/>\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}