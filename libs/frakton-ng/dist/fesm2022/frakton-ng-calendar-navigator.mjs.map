{"version":3,"file":"frakton-ng-calendar-navigator.mjs","sources":["../../calendar-navigator/src/modal/fkt-calendar-navigator-modal.component.ts","../../calendar-navigator/src/modal/fkt-calendar-navigator-modal.component.html","../../calendar-navigator/src/fkt-calendar-navigator.component.ts","../../calendar-navigator/src/fkt-calendar-navigator.component.html","../../calendar-navigator/src/fkt-calendar-navigator.types.ts","../../calendar-navigator/src/frakton-ng-calendar-navigator.ts"],"sourcesContent":["import { Component, input, linkedSignal, output } from '@angular/core';\r\nimport { MarkUsed, outsideClickEffect } from 'frakton-ng/internal/utils';\r\nimport {\r\n\tCalendarDateSelectorComponent,\r\n\tCalendarMonthSelectorComponent,\r\n\tCalendarMultiYearHeaderComponent,\r\n\tCalendarYearSelectorComponent,\r\n\tFktCalendarStep\r\n} from 'frakton-ng/calendar';\r\n\r\n@Component({\r\n\tselector: 'fkt-calendar-navigator-modal',\r\n\timports: [\r\n\t\tCalendarMonthSelectorComponent,\r\n\t\tCalendarDateSelectorComponent,\r\n\t\tCalendarYearSelectorComponent,\r\n\t\tCalendarMultiYearHeaderComponent,\r\n\t],\r\n\ttemplateUrl: './fkt-calendar-navigator-modal.component.html',\r\n\tstyleUrl: './fkt-calendar-navigator-modal.component.scss',\r\n})\r\nexport class FktCalendarNavigatorModalComponent {\r\n\tstep = input<FktCalendarStep>('date');\r\n\tcurrentDate = input<Date>(new Date());\r\n\tclose = output();\r\n\tselect = output<Date>();\r\n\r\n\tinternalDate = linkedSignal(this.currentDate);\r\n\r\n\t@MarkUsed()\r\n\tprotected autoClose = outsideClickEffect(() => {\r\n\t\tthis.close.emit();\r\n\t});\r\n\r\n\tselectDate($event: Date) {\r\n\t\tthis.select.emit($event);\r\n\t}\r\n}\r\n","@switch (step()) {\r\n\t@case ('date') {\r\n\t\t<fkt-calendar-date-selector\r\n\t\t\t(currentDateChange)=\"selectDate($event)\"\r\n\t\t\t[currentDate]=\"currentDate()\"\r\n\t\t/>\r\n\t}\r\n\t@case ('month') {\r\n\t\t<fkt-calendar-month-selector\r\n\t\t\t(currentDateChange)=\"selectDate($event)\"\r\n\t\t\t[currentDate]=\"currentDate()\"\r\n\t\t/>\r\n\t}\r\n\t@case ('year') {\r\n\t\t<fkt-calendar-multi-year-header\r\n\t\t\t[(currentDate)]=\"internalDate\"\r\n\t\t/>\r\n\t\t<hr class=\"vertical-separator\">\r\n\r\n\t\t<fkt-calendar-year-selector\r\n\t\t\t(currentDateChange)=\"selectDate($event)\"\r\n\t\t\t[currentDate]=\"internalDate()\"\r\n\t\t/>\r\n\t}\r\n}\r\n","import { Component, ElementRef, inject, input, model, } from '@angular/core';\r\nimport { FktOverlayRef, FktOverlayService } from 'frakton-ng/overlay';\r\nimport { FktCalendarNavigatorModalComponent } from './modal/fkt-calendar-navigator-modal.component';\r\nimport { CalendarMonthHeaderComponent, CalendarYearHeaderComponent, FktCalendarStep } from 'frakton-ng/calendar';\r\nimport { FktCalendarNavigatorMode } from './fkt-calendar-navigator.types';\r\n\r\n\r\n@Component({\r\n\tselector: 'fkt-calendar-navigator',\r\n\timports: [CalendarMonthHeaderComponent, CalendarYearHeaderComponent],\r\n\ttemplateUrl: './fkt-calendar-navigator.component.html',\r\n\tstyleUrl: './fkt-calendar-navigator.component.scss',\r\n})\r\nexport class FktCalendarNavigatorComponent {\r\n\tmode = input<FktCalendarNavigatorMode>('month');\r\n\tcurrentDate = model<Date>(new Date());\r\n\r\n\tprivate overlay = inject(FktOverlayService);\r\n\tprivate elementRef = inject(ElementRef);\r\n\r\n\tprivate overlayRef: FktOverlayRef<FktCalendarNavigatorModalComponent> | null =\r\n\t\tnull;\r\n\r\n\tprotected openMonthModal() {\r\n\t\tthis.openModal('month');\r\n\t}\r\n\r\n\tprotected openYearModal() {\r\n\t\tthis.openModal('year');\r\n\t}\r\n\r\n\tprivate openModal(step: FktCalendarStep) {\r\n\t\tif (this.overlayRef) {\r\n\t\t\tthis.closeModal();\r\n\t\t}\r\n\r\n\t\tthis.overlayRef = this.overlay.open({\r\n\t\t\tcomponent: FktCalendarNavigatorModalComponent,\r\n\t\t\tdata: {\r\n\t\t\t\tstep,\r\n\t\t\t\tcurrentDate: this.currentDate(),\r\n\t\t\t\tselect: date => {\r\n\t\t\t\t\tthis.currentDate.set(date);\r\n\t\t\t\t\tthis.closeModal();\r\n\t\t\t\t},\r\n\t\t\t\tclose: () => {\r\n\t\t\t\t\tthis.closeModal();\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tanchorElementRef: this.elementRef,\r\n\t\t\tpanelOptions: {\r\n\t\t\t\tmaxHeight: 'fit-content',\r\n\t\t\t\twidth: 'fit-content',\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tprivate closeModal() {\r\n\t\tthis.overlayRef?.close();\r\n\t\tthis.overlayRef = null;\r\n\t}\r\n}\r\n","@switch (mode()) {\r\n\t@case ('month') {\r\n\t\t<fkt-calendar-month-header\r\n\t\t\t(yearClick)=\"openYearModal()\"\r\n\t\t\t(monthClick)=\"openMonthModal()\"\r\n\t\t\t[(currentDate)]=\"currentDate\"\r\n\t\t/>\r\n\t}\r\n\t@case ('year') {\r\n\t\t<fkt-calendar-year-header\r\n\t\t\t(yearClick)=\"openYearModal()\"\r\n\t\t\t[(currentDate)]=\"currentDate\"\r\n\t\t/>\r\n\t}\r\n}\r\n","export const fktCalendarNavigatorModes = ['month', 'year'] as const;\r\n\r\nexport type FktCalendarNavigatorMode = typeof fktCalendarNavigatorModes[number];\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}