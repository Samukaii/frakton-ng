{"version":3,"file":"frakton-ng-dialog.mjs","sources":["../../dialog/src/anchor/dialog-anchor.component.ts","../../dialog/src/confirm-action/fkt-dialog-confirm-action.component.ts","../../dialog/src/confirm-action/fkt-dialog-confirm-action.component.html","../../dialog/src/fkt-dialog.service.ts","../../dialog/src/frakton-ng-dialog.ts"],"sourcesContent":["import { Component, input, output, viewChild, ViewContainerRef } from '@angular/core';\r\nimport { injectWindowScroll } from 'frakton-ng/internal/di';\r\n\r\n@Component({\r\n    selector: 'fkt-dialog-host',\r\n    template: `\r\n        <div class=\"backdrop\" (click)=\"backdropClick.emit()\"></div>\r\n        <div class=\"container\">\r\n            <ng-template #container></ng-template>\r\n        </div>\r\n    `,\r\n    styles: `\r\n\t\t* {\r\n\t\t\tbox-sizing: border-box;\r\n\t\t}\r\n\r\n        :host {\r\n            position: absolute;\r\n            width: 100%;\r\n            height: 100%;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n\r\n\t\t\ttop: var(--top);\r\n\t\t\tleft: var(--left);\r\n        }\r\n\r\n        .backdrop {\r\n            background-color: #0005;\r\n            width: 100%;\r\n            height: 100%;\r\n            position: absolute;\r\n            top: 0;\r\n        }\r\n\r\n        .container {\r\n\t\t\toverflow-x: hidden;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tz-index: 20;\r\n            padding: var(--padding);\r\n            width: var(--width);\r\n            height: var(--height);\r\n            max-width: var(--max-width);\r\n            max-height: var(--max-height);\r\n            background-color: var(--background-color);\r\n\t\t\tborder-radius: var(--border-radius);\r\n        }\r\n    `,\r\n    standalone: true,\r\n\thost: {\r\n\t\t'[style.--height]': 'height()',\r\n\t\t'[style.--width]': 'width()',\r\n\t\t'[style.--max-width]': 'maxWidth()',\r\n\t\t'[style.--max-height]': 'maxHeight()',\r\n\t\t'[style.--top]': 'windowScroll().y + \"px\"',\r\n\t\t'[style.--left]': 'windowScroll().x + \"px\"',\r\n\t\t'[style.--border-radius]': 'borderRadius()',\r\n\t\t'[style.--background-color]': 'backgroundColor()',\r\n\t\t'[style.--padding]': 'padding()',\r\n\t}\r\n})\r\nexport class DialogAnchorComponent  {\r\n    backdropClick = output();\r\n\theight = input('fit-content');\r\n\twidth = input('100%');\r\n\tmaxHeight = input('90vh');\r\n\tmaxWidth = input('1200px');\r\n\tborderRadius = input('1rem');\r\n\tbackgroundColor = input('white');\r\n\tpadding = input('1rem');\r\n\r\n    container = viewChild.required('container', { read: ViewContainerRef });\r\n\r\n\tprotected windowScroll = injectWindowScroll();\r\n}\r\n","import { Component, computed, input } from '@angular/core';\r\nimport { FktButtonsListComponent } from 'frakton-ng/buttons-list';\r\nimport { FktIconComponent } from 'frakton-ng/icon';\r\nimport { FktButtonAction } from 'frakton-ng/button';\r\n\r\n@Component({\r\n\tselector: 'fkt-dialog-confirm-action',\r\n\timports: [FktButtonsListComponent, FktIconComponent],\r\n\ttemplateUrl: './fkt-dialog-confirm-action.component.html',\r\n\tstyleUrl: './fkt-dialog-confirm-action.component.scss',\r\n})\r\nexport class FktDialogConfirmActionComponent {\r\n\ttitle = input.required<string>();\r\n\tdescription = input<string>();\r\n\tactions = input<\r\n\t\t| {\r\n\t\t\t\tprimary?: Partial<FktButtonAction>;\r\n\t\t\t\tsecondary?: Partial<FktButtonAction>;\r\n\t\t  }\r\n\t\t| undefined\r\n\t>();\r\n\r\n\tprotected confirmActions = computed(() => {\r\n\t\tconst { primary, secondary } = this.actions() || {};\r\n\r\n\t\tconst primaryAction: FktButtonAction = {\r\n\t\t\tidentifier: 'primary',\r\n\t\t\ttext: 'Confirmar',\r\n\t\t\tcolor: 'red',\r\n\t\t\t...primary,\r\n\t\t};\r\n\t\tconst secondaryAction: FktButtonAction = {\r\n\t\t\tidentifier: 'secondary',\r\n\t\t\ttext: 'Voltar',\r\n\t\t\ttheme: 'stroked',\r\n\t\t\t...secondary,\r\n\t\t};\r\n\r\n\t\treturn [primaryAction, secondaryAction];\r\n\t});\r\n}\r\n","<div class=\"content\">\r\n\t<fkt-icon\r\n\t\tname=\"exclamation-triangle\"\r\n\t\tclass=\"!text-[80px] text-red-500\"\r\n\t/>\r\n\t<h3 class=\"content__title\">\r\n\t\t{{title()}}\r\n\t</h3>\r\n\t@if (description()) {\r\n\t\t<p class=\"content__description\">\r\n\t\t\t{{ description() }}\r\n\t\t</p>\r\n\t}\r\n\r\n</div>\r\n<div class=\"actions\">\r\n\t<fkt-buttons-list\r\n\t\torientation=\"vertical\"\r\n\t\tfill\r\n\t\t[actions]=\"confirmActions()\"\r\n\t/>\r\n</div>\r\n\r\n","import { ComponentRef, inject, Injectable } from '@angular/core';\r\nimport { DialogAnchorComponent } from './anchor/dialog-anchor.component';\r\nimport { FktElementAnchorService } from 'frakton-ng/internal/services';\r\nimport { createComponentBindings } from 'frakton-ng/internal/utils';\r\nimport { FktDialogConfirmActionComponent } from './confirm-action/fkt-dialog-confirm-action.component';\r\nimport { FktConfirmActionOptions, FktDialogOptions } from './fkt-dialog.types';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root',\r\n})\r\nexport class FktDialogService {\r\n\tprivate anchorService = inject(FktElementAnchorService);\r\n\tprivate dialogs: {\r\n\t\tcomponentRef: ComponentRef<any>;\r\n\t\tanchor: {\r\n\t\t\tcomponentRef: ComponentRef<DialogAnchorComponent>;\r\n\t\t\tdestroy: () => void;\r\n\t\t};\r\n\t}[] = [];\r\n\r\n\topen<T>(options: FktDialogOptions<T>) {\r\n\t\tconst anchor = this.anchorService.createAnchor(DialogAnchorComponent, {\r\n\t\t\t...options?.panelOptions,\r\n\t\t\tbackdropClick: () => {\r\n\t\t\t\tanchor.destroy();\r\n\t\t\t\toptions?.panelOptions?.backdropClick?.();\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tconst componentRef = anchor.componentRef.instance\r\n\t\t\t.container()\r\n\t\t\t.createComponent(options.component, {\r\n\t\t\t\tbindings: createComponentBindings(\r\n\t\t\t\t\toptions.component,\r\n\t\t\t\t\toptions.data,\r\n\t\t\t\t),\r\n\t\t\t});\r\n\r\n\t\tthis.dialogs.push({componentRef, anchor});\r\n\r\n\t\treturn {componentRef, close: () => anchor.destroy()}\r\n\t}\r\n\r\n\tconfirm(options: FktConfirmActionOptions) {\r\n\t\tconst instance = this.open({\r\n\t\t\tcomponent: FktDialogConfirmActionComponent,\r\n\t\t\tdata: {\r\n\t\t\t\t...options,\r\n\t\t\t\tactions: {\r\n\t\t\t\t\t...options.actions,\r\n\t\t\t\t\tsecondary: {\r\n\t\t\t\t\t\t...options.actions?.secondary,\r\n\t\t\t\t\t\tclick: () => {\r\n\t\t\t\t\t\t\toptions.actions?.secondary?.click?.(null);\r\n\t\t\t\t\t\t\tinstance.close();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpanelOptions: {\r\n\t\t\t\twidth: 'fit-content',\r\n\t\t\t\tbackdropClick: () => {\r\n\t\t\t\t\toptions?.backdropClick?.();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn instance;\r\n\t}\r\n\r\n\tcloseAll() {\r\n\t\tthis.dialogs.forEach(dialog => {\r\n\t\t\tdialog.anchor.destroy();\r\n\t\t});\r\n\t}\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}