{"version":3,"file":"frakton-ng-select.mjs","sources":["../../select/src/overlay/fkt-select-overlay.component.ts","../../select/src/overlay/fkt-select-overlay.component.html","../../select/src/fkt-select.component.ts","../../select/src/fkt-select.component.html","../../select/src/frakton-ng-select.ts"],"sourcesContent":["import { Component, DOCUMENT, effect, inject, input, output } from '@angular/core';\r\nimport { MarkUsed } from 'frakton-ng/internal/utils';\r\nimport { FktSpinnerComponent } from 'frakton-ng/spinner';\r\nimport { FktNoResults, FktNoResultsComponent } from 'frakton-ng/no-results';\r\nimport { FktAutocompleteOption } from 'frakton-ng/autocomplete';\r\nimport { FktIconComponent } from 'frakton-ng/icon';\r\n\r\n@Component({\r\n  selector: 'fkt-fkt-select-overlay',\r\n\timports: [\r\n\t\tFktSpinnerComponent,\r\n\t\tFktNoResultsComponent,\r\n\t\tFktIconComponent\r\n\t],\r\n  templateUrl: './fkt-select-overlay.component.html',\r\n  styleUrl: './fkt-select-overlay.component.scss'\r\n})\r\nexport class FktSelectOverlayComponent {\r\n\thostElement = input.required<HTMLElement>();\r\n\toptions = input.required<FktAutocompleteOption[]>();\r\n\tloading = input<boolean | undefined>(false);\r\n\tselected = input<string | number | null>();\r\n\tactiveOptionId= input.required<string | null>();\r\n\tnoResults = input<FktNoResults | undefined>({\r\n\t\tlabel: 'Sem resultados',\r\n\t});\r\n\tselect = output<FktAutocompleteOption>();\r\n\r\n\tprivate document = inject(DOCUMENT);\r\n\r\n\t@MarkUsed()\r\n\tprotected scrollToActiveOption = effect(() => {\r\n\t\tconst activeOptionId = this.activeOptionId();\r\n\r\n\t\tif(!activeOptionId) return;\r\n\r\n\t\tthis.document.getElementById(activeOptionId)?.scrollIntoView({\r\n\t\t\tbehavior: 'smooth',\r\n\t\t\tblock: 'center'\r\n\t\t});\r\n\t});\r\n}\r\n","<ul class=\"overlay\" role=\"listbox\"\r\n>\r\n\t@if (loading()) {\r\n\t\t<div class=\"spinner-container\">\r\n\t\t\t<fkt-spinner/>\r\n\t\t</div>\r\n\t} @else {\r\n\t\t@for (option of options(); track option.value) {\r\n\t\t\t<li\r\n\t\t\t\t#option\r\n\t\t\t\trole=\"option\"\r\n\t\t\t\t[id]=\"'fkt-select-option-' + option.value\"\r\n\t\t\t\t[class.active]=\"('fkt-select-option-' + option.value) === activeOptionId()\"\r\n\t\t\t\t(click)=\"select.emit(option)\"\r\n\t\t\t\t[attr.aria-label]=\"option.label\"\r\n\t\t\t\t[attr.aria-selected]=\"option.value === selected()\"\r\n\t\t\t>\r\n\t\t\t\t{{ option.label }}\r\n\t\t\t\t@if (option.value === selected()) {\r\n\t\t\t\t\t<fkt-icon\r\n\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\tname=\"check\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t</li>\r\n\t\t} @empty {\r\n\t\t\t<fkt-no-results\r\n\t\t\t\t[noResults]=\"noResults()!\"\r\n\t\t\t/>\r\n\t\t}\r\n\t}\r\n</ul>\r\n","import { Component, computed, inject, input, output, signal } from '@angular/core';\r\nimport { SignalFormControl } from 'frakton-ng/forms';\r\nimport { FktFieldErrorComponent } from 'frakton-ng/field-error';\r\nimport { FktSelectOverlayComponent } from './overlay/fkt-select-overlay.component';\r\nimport { FktOverlayRef, FktOverlayService } from 'frakton-ng/overlay';\r\nimport { FktNoResults } from 'frakton-ng/no-results';\r\nimport { FktAutocompleteOption } from 'frakton-ng/autocomplete';\r\nimport { FktIconComponent } from 'frakton-ng/icon';\r\nimport { ElementIdGeneratorService } from 'frakton-ng/internal/services';\r\nimport { FktSelectOption } from './fkt-select.types';\r\n\r\n@Component({\r\n\tselector: 'fkt-select',\r\n\timports: [\r\n\t\tFktFieldErrorComponent,\r\n\t\tFktIconComponent\r\n\t],\r\n\ttemplateUrl: './fkt-select.component.html',\r\n\tstyleUrl: './fkt-select.component.scss',\r\n\thost: {\r\n\t\t'[class.opened]': 'opened()',\r\n\t\t'[class.disabled]': 'control().disabled()',\r\n\t}\r\n})\r\nexport class FktSelectComponent {\r\n\tcontrol = input.required<SignalFormControl<any>>();\r\n\tlabel = input<string>();\r\n\tplaceholder = input<string>();\r\n\tloading = input(false);\r\n\toptions = input.required<FktSelectOption[]>();\r\n\tnoResults = input<FktNoResults>({\r\n\t\tlabel: 'Sem resultados',\r\n\t});\r\n\tselectOpened = output();\r\n\r\n\tprivate overlayService = inject(FktOverlayService);\r\n\tprivate idGenerator = inject(ElementIdGeneratorService);\r\n\r\n\tprotected labelId =  this.idGenerator.next('fkt-select-label');\r\n\tprotected listBoxId =  this.idGenerator.next('fkt-select-list-box');\r\n\tprotected errorId =  this.idGenerator.next('fkt-select-active-error');\r\n\r\n\tprivate overlayRef = signal<FktOverlayRef<FktSelectOverlayComponent> | null>(null);\r\n\r\n\tprotected opened = computed(() => !!this.overlayRef());\r\n\r\n\tprotected activeIndex = signal(-1);\r\n\r\n\tprotected activeOptionId = computed(() => {\r\n\t\tconst options = this.options();\r\n\t\tconst activeOption = options[this.activeIndex()];\r\n\r\n\t\tif(!activeOption) return null;\r\n\r\n\t\treturn 'fkt-select-option-' + activeOption.value\r\n\t})\r\n\r\n\tprotected selectedIndex = computed(() => {\r\n\t\treturn this.options().findIndex(option => option.value === this.selectedOption()?.value)\r\n\t})\r\n\r\n\tprotected handleKeydown(element: HTMLDivElement, event: KeyboardEvent) {\r\n\t\tif(this.opened() || this.control().disabled())\r\n\t\t\treturn void this.onKeyDownWithOverlayOpened(element, event);\r\n\r\n\t\tswitch(event.key) {\r\n\t\t\tcase 'ArrowDown':\r\n\t\t\tcase 'ArrowUp':\r\n\t\t\tcase 'Space':\r\n\t\t\tcase ' ':\r\n\t\t\tcase 'Enter':\r\n\t\t\t\tthis.openOverlay(element)\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tthis.activeIndex.set(\r\n\t\t\t\t\tthis.selectedIndex() >= 0 ? this.selectedIndex() : 0\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onKeyDownWithOverlayOpened(element: HTMLDivElement, event: KeyboardEvent) {\r\n\t\tconst activeOption = this.options()[this.activeIndex()];\r\n\r\n\t\tswitch(event.key) {\r\n\t\t\tcase 'ArrowDown':\r\n\t\t\t\tthis.activeIndex.set(\r\n\t\t\t\t\t(this.activeIndex() + 1) % this.options().length\r\n\t\t\t\t);\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'ArrowUp':\r\n\t\t\t\tthis.activeIndex.set(\r\n\t\t\t\t\t(this.activeIndex() - 1 + this.options().length) % this.options().length\r\n\t\t\t\t);\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Enter':\r\n\t\t\tcase ' ':\r\n\t\t\t\tthis.selectOption(activeOption)\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tthis.activeIndex.set(-1)\r\n\t\t\t\telement.focus();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Escape':\r\n\t\t\t\tthis.closeOverlay();\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tthis.activeIndex.set(-1)\r\n\t\t\t\telement.focus();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Tab':\r\n\t\t\t\tthis.closeOverlay();\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tthis.activeIndex.set(-1)\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Home':\r\n\t\t\t\tthis.activeIndex.set(0);\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'End':\r\n\t\t\t\tthis.activeIndex.set(this.options().length - 1);\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected openOverlay(nativeElement: HTMLDivElement) {\r\n\t\tif(this.control().disabled())\r\n\t\t\treturn;\r\n\r\n\t\tif (!!this.overlayRef()) {\r\n\t\t\tthis.closeOverlay();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.selectOpened.emit();\r\n\r\n\t\tconst overlayRef = this.overlayService.open({\r\n\t\t\tcomponent: FktSelectOverlayComponent,\r\n\t\t\tdata: {\r\n\t\t\t\thostElement: nativeElement,\r\n\t\t\t\toptions: this.options,\r\n\t\t\t\tloading: this.loading,\r\n\t\t\t\tselected: computed(() => this.selectedOption()?.value ?? null),\r\n\t\t\t\tnoResults: this.noResults(),\r\n\t\t\t\tactiveOptionId: this.activeOptionId,\r\n\t\t\t\tselect: (option) => {\r\n\t\t\t\t\tthis.selectOption(option);\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tanchorElementRef: {nativeElement},\r\n\t\t\tpanelOptions: {\r\n\t\t\t\toutsideClick: () => {\r\n\t\t\t\t\tthis.closeOverlay();\r\n\t\t\t\t},\r\n\t\t\t\tmaxHeight: '420px',\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.overlayRef.set(overlayRef);\r\n\t}\r\n\r\n\tprotected selectedOption = computed(() => {\r\n\t\tconst value = this.control().value();\r\n\t\tconst found = this.options().find(item => item.value === value);\r\n\r\n\t\treturn found ?? null;\r\n\t});\r\n\r\n\tprotected selectOption(option: FktAutocompleteOption) {\r\n\t\tthis.control().setValue({\r\n\t\t\tmodelValue: option.value,\r\n\t\t\tviewValue: option.label,\r\n\t\t});\r\n\r\n\t\tthis.closeOverlay();\r\n\t}\r\n\r\n\tprivate closeOverlay() {\r\n\t\tthis.control().markAsTouched();\r\n\t\tthis.overlayRef()?.close();\r\n\t\tthis.overlayRef.set(null);\r\n\t}\r\n}\r\n","<div class=\"label-container\">\r\n\t<label\r\n\t\taria-hidden=\"true\"\r\n\t\t[class.error]=\"!!error.message()\"\r\n\t\t[class.float]=\"control().viewValue()\"\r\n\t>{{ label() }}</label>\r\n</div>\r\n\r\n<div class=\"select\">\r\n\t<div\r\n\t\t#element\r\n\t\tclass=\"select__container\"\r\n\t\t[class.opened]=\"opened()\"\r\n\t\t[class.error]=\"!!error.message()\"\r\n\t\t(click)=\"openOverlay(element)\"\r\n\t\t(keydown)=\"handleKeydown(element, $event)\"\r\n\t\trole=\"combobox\"\r\n\t\taria-haspopup=\"listbox\"\r\n\t\ttabindex=\"0\"\r\n\t\t[attr.aria-labelledby]=\"labelId\"\r\n\t\t[attr.aria-expanded]=\"opened()\"\r\n\t\t[attr.aria-controls]=\"opened() ? listBoxId : null\"\r\n\t\t[attr.aria-activedescendant]=\"opened() ? activeOptionId() : null\"\r\n\t\t[attr.aria-disabled]=\"control().disabled()\"\r\n\t\t[attr.aria-label]=\"label()\"\r\n\t\t[attr.aria-invalid]=\"!!error.message()\"\r\n\t\t[attr.aria-errormessage]=\"!!error.message() ? errorId : null\"\r\n\t>\r\n\t\t<div>\r\n\t\t\t@if (selectedOption()?.label) {\r\n\t\t\t\t<span>\r\n\t\t\t\t{{ selectedOption()?.label }}\r\n\t\t\t\t</span>\r\n\t\t\t} @else if (opened()) {\r\n\t\t\t\t<span class=\"placeholder\" aria-hidden=\"true\">{{ placeholder() }}</span>\r\n\t\t\t}\r\n\t\t</div>\r\n\t\t<fkt-icon aria-hidden=\"true\" name=\"chevron-down\"/>\r\n\t</div>\r\n</div>\r\n\r\n<fkt-field-error\r\n\t#error\r\n\t[id]=\"errorId\"\r\n\taria-live=\"polite\"\r\n\t[control]=\"control()\"\r\n/>\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}