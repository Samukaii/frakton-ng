{"version":3,"file":"frakton-ng-tooltip.mjs","sources":["../../tooltip/src/fkt-tooltip.component.ts","../../tooltip/src/fkt-tooltip.component.html","../../tooltip/src/fkt-tooltip.directive.ts","../../tooltip/src/frakton-ng-tooltip.ts"],"sourcesContent":["import { Component, computed, inject, input } from '@angular/core';\r\nimport { FktColor } from 'frakton-ng/core';\r\nimport { OVERLAY_INFO } from \"frakton-ng/overlay\";\r\nimport { FktGeometryPosition } from \"frakton-ng/internal/types\";\r\n\r\n@Component({\r\n\tselector: 'fkt-tooltip',\r\n\timports: [],\r\n\ttemplateUrl: './fkt-tooltip.component.html',\r\n\tstyleUrl: './fkt-tooltip.component.scss',\r\n\thost: {\r\n\t\t'[style.--color]': 'tooltipColor()',\r\n\t},\r\n})\r\nexport class FktTooltipComponent {\r\n\ttext = input.required<string>();\r\n\tcolor = input<FktColor>();\r\n\r\n\toverlayInfo = inject(OVERLAY_INFO);\r\n\r\n\tprivate colorMap: Record<FktColor, string> = {\r\n\t\tred: '#ef4444',\r\n\t\tgreen: '#22c55e',\r\n\t\tprimary: '#1f2937',\r\n\t\tyellow: '#eab308',\r\n\t\tblue: '#2B7FFFFF',\r\n\t};\r\n\r\n\tprivate tipPositionMap: Record<\r\n\t\tFktGeometryPosition,\r\n\t\tFktGeometryPosition\r\n\t> = {\r\n\t\t'bottom-center': 'top-center',\r\n\t\t'bottom-end': 'top-end',\r\n\t\t'bottom-left': 'top-left',\r\n\t\t'bottom-right': 'top-right',\r\n\t\t'bottom-start': 'top-start',\r\n\r\n\t\t'left-center': 'right-center',\r\n\t\t'left-end': 'right-end',\r\n\t\t'left-start': 'right-start',\r\n\r\n\t\t'right-center': 'left-center',\r\n\t\t'right-end': 'left-end',\r\n\t\t'right-start': 'left-start',\r\n\r\n\t\t'top-center': 'bottom-center',\r\n\t\t'top-end': 'bottom-end',\r\n\t\t'top-left': 'bottom-left',\r\n\t\t'top-right': 'bottom-right',\r\n\t\t'top-start': 'bottom-start',\r\n\t};\r\n\r\n\ttooltipColor = computed(() => {\r\n\t\treturn this.colorMap[this.color() ?? 'primary'];\r\n\t});\r\n\r\n\tprotected tipPositionClass = computed(() => {\r\n\t\tconst currentPosition = this.overlayInfo.currentPosition();\r\n\t\tconst tipPosition = this.tipPositionMap[currentPosition ?? 'bottom-center'];\r\n\r\n\t\treturn `message__tip--${tipPosition}`;\r\n\t});\r\n}\r\n","<div class=\"message\">\r\n\t<div\r\n\t\t[class]=\"'message__tip ' + tipPositionClass()\"></div>\r\n\r\n\t<div\r\n\t\tclass=\"message__content\">\r\n\t\t{{ text() }}\r\n\t</div>\r\n</div>\r\n","import { booleanAttribute, Directive, ElementRef, inject, input } from '@angular/core';\r\nimport { FktOverlayRef, FktOverlayService } from 'frakton-ng/overlay';\r\nimport { FktGeometryPosition } from 'frakton-ng/internal/types';\r\nimport { outsideMouseEnterWatcher } from 'frakton-ng/internal/utils';\r\nimport { FktTooltipComponent } from './fkt-tooltip.component';\r\n\r\n@Directive({\r\n\tselector: '[fktTooltip]',\r\n\thost: {\r\n\t\t'(mouseenter)': 'show();',\r\n\t},\r\n})\r\nexport class FktTooltipDirective {\r\n\tfktTooltip = input.required<string>();\r\n\ttooltipEnabled = input(true);\r\n\tdisableAutoReposition = input(false, {transform: booleanAttribute});\r\n\tposition = input<FktGeometryPosition>('bottom-center');\r\n\r\n\tprivate overlay = inject(FktOverlayService);\r\n\tprivate overlayRef: FktOverlayRef<FktTooltipComponent> | null = null;\r\n\tprivate elementRef = inject(ElementRef);\r\n\r\n\toutsideWatcher = outsideMouseEnterWatcher();\r\n\r\n\tshow() {\r\n\t\tif (!this.tooltipEnabled()) return;\r\n\r\n\t\tif (this.overlayRef) return;\r\n\r\n\t\tthis.overlayRef = this.overlay.open({\r\n\t\t\tcomponent: FktTooltipComponent,\r\n\t\t\tdata: {\r\n\t\t\t\ttext: this.fktTooltip(),\r\n\t\t\t},\r\n\t\t\tpanelOptions: {\r\n\t\t\t\twidth: 'fit-content',\r\n\t\t\t\tmaxHeight: 'fit-content',\r\n\t\t\t\tminWidth: 'fit-content',\r\n\t\t\t\tposition: this.position(),\r\n\t\t\t\tborderRadius: '0px',\r\n\t\t\t\toverflow: 'visible',\r\n\t\t\t\tpadding: '0',\r\n\t\t\t\tboxShadow: 'none',\r\n\t\t\t\tbackgroundColor: 'transparent',\r\n\t\t\t\tdisableAutoReposition: this.disableAutoReposition(),\r\n\t\t\t},\r\n\t\t\tanchorElementRef: this.elementRef,\r\n\t\t});\r\n\r\n\t\tthis.outsideWatcher.watch(() => {\r\n\t\t\tthis.outsideWatcher.stop();\r\n\t\t\tthis.hide();\r\n\t\t});\r\n\t}\r\n\r\n\thide = () => {\r\n\t\tthis.overlayRef?.close();\r\n\t\tthis.overlayRef = null;\r\n\t};\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}