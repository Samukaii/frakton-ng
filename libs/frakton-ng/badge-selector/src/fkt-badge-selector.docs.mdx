import {ArgTypes, Meta} from '@storybook/addon-docs/blocks';
import * as fktBadgeSelectorStories from './fkt-badge-selector.stories';
import {StoryDoc} from "../../.storybook/blocks/StoryDoc";
import {rawExamples} from "./examples/raw-examples";

<Meta of={fktBadgeSelectorStories}/>

The **FktBadgeSelector** component provides an interactive dropdown for selecting from a list of badge options. Built with Angular signals and the overlay system, it offers a clean interface for choosing status, categories, or other badge-represented values.

## Key Features

- **Interactive Selection**: Click to open dropdown with available badge options
- **Visual Preview**: Shows currently selected badge with proper styling
- **Overlay System**: Uses smart positioning to avoid viewport overflow
- **Type Safety**: Generic component with strongly typed ID values
- **Two-Way Binding**: Seamless integration with reactive forms and signals
- **Keyboard Navigation**: Full accessibility support with keyboard interaction
- **Signal-Based**: Built with Angular signals for optimal performance

## Configuration Options

<ArgTypes />

### Types
```ts
import {FktBadgeColor} from "frakton-ng/badge";

export interface FktBadge<Id extends string = string> {
	id: Id;
	name: string;
	color: FktBadgeColor;
}
```

### Two-Way Binding
The component supports Angular's two-way binding syntax:
```html
<fkt-badge-selector
  [options]="statusOptions"
  [(currentBadgeId)]="selectedStatus"
/>
```

## Examples

<StoryDoc of={fktBadgeSelectorStories.Preview}/>
<StoryDoc of={fktBadgeSelectorStories.OrderStatus} code={rawExamples.orderStatusExample}/>
<StoryDoc of={fktBadgeSelectorStories.Priority} code={rawExamples.priorityExample}/>
<StoryDoc of={fktBadgeSelectorStories.ProjectStatus}/>
<StoryDoc of={fktBadgeSelectorStories.UserStatus}/>
<StoryDoc of={fktBadgeSelectorStories.TeamAssignment}/>
<StoryDoc of={fktBadgeSelectorStories.Category}/>


## Use Cases

### Status Management
Perfect for managing entity status:
- Order and shipping status
- Project and task status
- User account status
- System health indicators

### Category Selection
Ideal for categorization interfaces:
- Content categories
- Product classifications
- Department assignments
- Priority levels

### Team and Assignment
Great for team management:
- Team member assignments
- Department selection
- Role assignments
- Responsibility areas

### Configuration
Essential for settings and preferences:
- Theme and appearance
- Notification preferences
- Access levels
- Feature toggles

## Accessibility

- **Keyboard Navigation**: Full keyboard support for opening and navigating options
- **Screen Reader Support**: Proper ARIA labels and announcements
- **Focus Management**: Logical focus flow between selector and options
- **High Contrast**: Supports system high contrast modes
- **State Communication**: Selection changes are clearly communicated

## Performance

- **Lazy Loading**: Dropdown content created only when opened
- **Efficient Rendering**: Optimized change detection with Angular signals
- **Memory Management**: Proper cleanup of overlay references
- **Type Safety**: Compile-time type checking for badge IDs
