import{a as te}from"./chunk-QZXYR55Z.js";import{a as ne}from"./chunk-YSGEPIXV.js";import{b as Z,e as ee}from"./chunk-6QB3RJ5Q.js";import{a as P,c as z}from"./chunk-7BDPT3QJ.js";import{a as T}from"./chunk-KI4A6YQJ.js";import{$ as j,$b as R,Ab as d,Dc as f,Fb as E,Hc as Y,Jb as u,La as a,Lb as p,R as g,Ub as H,W as C,Wb as M,X as h,Zb as b,_b as B,bc as $,cc as J,db as S,dc as Q,fb as U,ia as _,la as F,ob as N,pa as q,sb as O,tb as k,tc as A,uc as X,vb as W,wb as G,xb as V,xc as m,yb as c,yc as r,zb as s}from"./chunk-BXWRRZR7.js";import{f as D}from"./chunk-A25UGBQK.js";var x=class x{currentIndex=f(null);childSelector=r.required();select=m();orientation=r("vertical");elements=_([]);element=g(q).nativeElement;handleKeyDown(n){let t=this.orientation();switch(n.key){case"ArrowDown":if(t!=="vertical")break;n.preventDefault(),this.currentIndex.update(e=>P((e??-1)+1,0,this.elements().length-1));break;case"ArrowUp":if(t!=="vertical")break;n.preventDefault(),this.currentIndex.update(e=>P((e??1)-1,0,this.elements().length-1));break;case"ArrowLeft":if(t!=="horizontal")break;n.preventDefault(),this.currentIndex.update(e=>P((e??1)-1,0,this.elements().length-1));break;case"ArrowRight":if(t!=="horizontal")break;n.preventDefault(),this.currentIndex.update(e=>P((e??-1)+1,0,this.elements().length-1));break;case"Enter":case" ":n.preventDefault(),this.select.emit(this.currentIndex()??0);break;case"Home":this.currentIndex.set(0),n.preventDefault();break;case"End":this.currentIndex.set(this.elements().length-1),n.preventDefault();break}}updateCurrentIndex=F(()=>{let n=this.currentIndex();this.elements().forEach((e,i)=>{if(n===null&&i===0){e.setAttribute("tabindex","0"),e.setAttribute("aria-selected","true");return}if(i===n){e.setAttribute("tabindex","0"),e.setAttribute("aria-selected","true"),e.focus();return}e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1")})});ngAfterViewInit(){setTimeout(()=>{this.elements.set(Array.from(this.element.querySelectorAll(this.childSelector())))})}static \u0275fac=function(t){return new(t||x)};static \u0275dir=U({type:x,selectors:[["","fktNavigableList",""]],hostBindings:function(t,e){t&1&&u("keydown",function(l){return e.handleKeyDown(l)})},inputs:{currentIndex:[1,"currentIndex"],childSelector:[1,"childSelector"],orientation:[1,"orientation"]},outputs:{currentIndex:"currentIndexChange",select:"select"}})};D([z()],x.prototype,"updateCurrentIndex",2);var y=x;var ie=(o,n)=>n.value;function le(o,n){o&1&&(c(0,"div",2),d(1,"fkt-spinner"),s())}function ae(o,n){o&1&&d(0,"fkt-icon",6)}function ce(o,n){if(o&1){let t=E();c(0,"li",5,0),u("click",function(){let i=C(t).$implicit,l=p(2);return h(l.select.emit(i))}),b(2),O(3,ae,1,0,"fkt-icon",6),s()}if(o&2){let t=n.$implicit,e=p(2);V("id","fkt-select-option-"+t.value),N("aria-label",t.label),a(2),R(" ",t.label," "),a(),k(t.value===e.selected()?3:-1)}}function se(o,n){if(o&1&&d(0,"fkt-no-results",4),o&2){let t=p(2);V("noResults",t.noResults())}}function de(o,n){if(o&1&&W(0,ce,4,4,"li",3,ie,!1,se,1,1,"fkt-no-results",4),o&2){let t=p();G(t.options())}}var w=class w{hostElement=r.required();options=r.required();loading=r(!1);selected=r();activeOptionId=f(null);noResults=r({label:"Sem resultados"});select=m();document=g(j);scrollToActiveOption=F(()=>{let n=this.options()[this.currentIndex()];this.activeOptionId.set(`fkt-select-option-${n.value}`)});currentIndex=X(()=>{let n=this.selected(),e=this.options().findIndex(i=>i.value===n);return e===-1?0:e});onKeyBoardSelect(n){let e=this.options()[n];e&&this.select.emit(e)}static \u0275fac=function(t){return new(t||w)};static \u0275cmp=S({type:w,selectors:[["fkt-fkt-select-options"]],inputs:{hostElement:[1,"hostElement"],options:[1,"options"],loading:[1,"loading"],selected:[1,"selected"],activeOptionId:[1,"activeOptionId"],noResults:[1,"noResults"]},outputs:{activeOptionId:"activeOptionIdChange",select:"select"},decls:3,vars:2,consts:[["option",""],["fktNavigableList","","childSelector","li","role","listbox",1,"overlay",3,"select","currentIndexChange","currentIndex"],[1,"spinner-container"],["role","option",3,"id"],[3,"noResults"],["role","option",3,"click","id"],["name","check"]],template:function(t,e){t&1&&(c(0,"ul",1),u("select",function(l){return e.onKeyBoardSelect(l)}),Q("currentIndexChange",function(l){return J(e.currentIndex,l)||(e.currentIndex=l),l}),O(1,le,2,0,"div",2)(2,de,3,1),s()),t&2&&($("currentIndex",e.currentIndex),a(),k(e.loading()?1:2))},dependencies:[te,ne,T,y],styles:["[_nghost-%COMP%]{display:block;width:100%;color:var(--fkt-select-options-text-color, var(--fkt-color-neutral-950))}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.spinner-container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;padding:var(--fkt-select-options-spinner-padding, var(--fkt-space-md))}.overlay[_ngcontent-%COMP%]{background-color:var(--fkt-select-options-background-color, var(--fkt-color-modal-background));width:100%;box-shadow:var(--fkt-select-options-shadow, var(--fkt-shadow-md));border-radius:var(--fkt-select-options-border-radius, var(--fkt-radius-md));border:solid 1px var(--fkt-select-options-border-color, var(--fkt-color-neutral-200));z-index:10;padding:0;margin:0}.overlay[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:var(--fkt-select-options-item-padding, var(--fkt-space-xs) var(--fkt-space-md));cursor:pointer;transition:var(--fkt-transition-base);display:flex;justify-content:space-between}.overlay[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus{outline:none;background-color:var(--fkt-select-options-item-hover-background, var(--fkt-color-primary-opacity-10));border-color:var(--fkt-select-options-item-hover-background, var(--fkt-color-primary-opacity-10))}.overlay[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-radius:var(--fkt-select-options-border-radius, var(--fkt-radius-md)) var(--fkt-select-options-border-radius, var(--fkt-radius-md)) 0 0}.overlay[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-radius:0 0 var(--fkt-select-options-border-radius, var(--fkt-radius-md)) var(--fkt-select-options-border-radius, var(--fkt-radius-md))}.overlay[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--fkt-select-options-item-hover-background, var(--fkt-color-primary-opacity-10));border-color:var(--fkt-select-options-item-hover-background, var(--fkt-color-primary-opacity-10))}.overlay[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:var(--fkt-select-options-item-active-background, var(--fkt-color-neutral-200))}.overlay[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   fkt-icon[_ngcontent-%COMP%]{color:var(--fkt-select-options-icon-color, var(--fkt-color-neutral-700));height:var(--fkt-select-options-icon-size, var(--fkt-space-xl));width:var(--fkt-select-options-icon-size, var(--fkt-space-xl))}"]})};D([z()],w.prototype,"scrollToActiveOption",2);var L=w;function pe(o,n){if(o&1&&(c(0,"span",3),b(1),s()),o&2){let t,e=p();a(),R(" ",(t=e.selectedOption())==null?null:t.label," ")}}function ge(o,n){if(o&1&&(c(0,"span",4),b(1),s()),o&2){let t=p();a(),B(t.placeholder())}}var K=class o{value=f(null);touched=f(!1);disabled=r(!1);invalid=r(!1);errors=r([]);label=r();placeholder=r();loading=r(!1);hideLabel=r(!1,{transform:Y});options=r.required();noResults=r({label:"Sem resultados"});selectOpened=m();overlayService=g(ee);idGenerator=g(Z);labelId=this.idGenerator.next("fkt-select-label");listBoxId=this.idGenerator.next("fkt-select-list-box");overlayRef=_(null);opened=A(()=>!!this.overlayRef());focused=_(!1);activeOptionId=_(null);handleKeydown(n,t){switch(t.key){case"ArrowDown":case"ArrowUp":case"Space":case" ":case"Enter":this.openOverlay(n),t.preventDefault();break}}openOverlay(n){if(this.disabled())return;this.selectOpened.emit();let t=this.overlayService.open({component:L,data:{hostElement:n,options:this.options,loading:this.loading,selected:A(()=>this.selectedOption()?.value??null),noResults:this.noResults(),activeOptionId:this.activeOptionId,select:e=>{this.selectOption(e)}},anchorElementRef:{nativeElement:n},panelOptions:{onAutoClose:()=>{this.closeOverlay()},maxHeight:"420px",inheritDesignTokensFrom:n}});this.overlayRef.set(t)}selectedOption=A(()=>{let n=this.value();return this.options().find(e=>e.value===n)??null});selectOption(n){this.value.set(n.value),this.closeOverlay()}closeOverlay(){this.touched.set(!0),this.overlayRef()?.close(),this.overlayRef.set(null)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=S({type:o,selectors:[["fkt-select"]],hostVars:4,hostBindings:function(t,e){t&2&&M("opened",e.opened())("disabled",e.disabled())},inputs:{value:[1,"value"],touched:[1,"touched"],disabled:[1,"disabled"],invalid:[1,"invalid"],errors:[1,"errors"],label:[1,"label"],placeholder:[1,"placeholder"],loading:[1,"loading"],hideLabel:[1,"hideLabel"],options:[1,"options"],noResults:[1,"noResults"]},outputs:{value:"valueChange",touched:"touchedChange",selectOpened:"selectOpened"},decls:13,vars:26,consts:[["element",""],["tabindex","0",1,"select",3,"keydown","click"],["role","combobox","aria-haspopup","listbox",1,"select__container"],[1,"selected-option"],["aria-hidden","true",1,"placeholder"],["name","chevron-down"],[1,"border"],[1,"left"],[1,"center"],["aria-hidden","true"],[1,"right"]],template:function(t,e){if(t&1){let i=E();c(0,"div",1,0),u("keydown",function(v){C(i);let I=H(1);return h(e.handleKeydown(I,v))})("click",function(){C(i);let v=H(1);return h(e.openOverlay(v))}),c(2,"div",2)(3,"div"),O(4,pe,2,1,"span",3)(5,ge,2,1,"span",4),s(),d(6,"fkt-icon",5),s(),c(7,"div",6),d(8,"div",7),c(9,"div",8)(10,"label",9),b(11),s()(),d(12,"div",10),s()()}if(t&2){let i,l,v,I;a(2),M("opened",e.opened())("error",e.invalid())("show-placeholder",!!((i=e.selectedOption())!=null&&i.label)||e.focused()),N("aria-labelledby",e.labelId)("aria-expanded",e.opened())("aria-controls",e.opened()?e.listBoxId:null)("aria-activedescendant",e.opened()?e.activeOptionId():null)("aria-disabled",e.disabled())("aria-label",e.label())("aria-invalid",e.invalid())("aria-errormessage",(l=e.errors()[0])==null?null:l.message),a(2),k((v=e.selectedOption())!=null&&v.label?4:e.opened()?5:-1),a(3),M("error",e.invalid()&&e.touched())("focused",e.opened())("float",!!((I=e.selectedOption())!=null&&I.label)||e.opened())("disabled",e.disabled()),a(2),M("hide-label",e.hideLabel()),a(2),B(e.label())}},dependencies:[T],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--fkt-radius-full);position:relative;transition:var(--fkt-transition-base);scroll-behavior:smooth;width:100%;cursor:pointer}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]   .selected-option[_ngcontent-%COMP%], [_nghost-%COMP%]   .placeholder[_ngcontent-%COMP%]{font-size:var(--fkt-select-font-size, var(--fkt-font-size-md))}[_nghost-%COMP%]   .label-container[_ngcontent-%COMP%]{display:flex;gap:var(--fkt-space-xs);align-items:center}[_nghost-%COMP%]   .label-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:15px;position:absolute;padding:0 var(--fkt-space-3xs);transition:var(--fkt-transition-base);left:var(--fkt-space-sm);background-color:var(--fkt-color-neutral-100);color:var(--fkt-color-neutral-800);font-weight:var(--fkt-font-normal);font-size:var(--fkt-font-size-sm);margin-bottom:var(--fkt-space-3xs)}[_nghost-%COMP%]   .label-container[_ngcontent-%COMP%]   label.error[_ngcontent-%COMP%]{color:var(var(--fkt-select-invalid-color, var(--fkt-color-danger)))}[_nghost-%COMP%]   .label-container[_ngcontent-%COMP%]   label.float[_ngcontent-%COMP%]{z-index:50;scale:90%;translate:calc(var(--fkt-space-3xs) * -1) calc(var(--fkt-space-xl) * -1)}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]{width:100%;position:relative;padding:var(--fkt-select-vertical-padding, var(--fkt-space-md)) var(--fkt-select-horizontal-padding, var(--fkt-space-md));outline:none}[_nghost-%COMP%]   .select__container[_ngcontent-%COMP%]{outline:none;height:20px;width:100%;transition:var(--fkt-transition-base);border-radius:var(--fkt-radius-lg);display:flex;justify-content:space-between;align-items:center;background-color:transparent}[_nghost-%COMP%]   .select__container[_ngcontent-%COMP%]:hover{border-color:var(--fkt-color-neutral-600)}[_nghost-%COMP%]   .select__container[_ngcontent-%COMP%]:focus{border-color:var(--fkt-color-focus-outline)}[_nghost-%COMP%]   .select__container.error[_ngcontent-%COMP%]{border-color:var(--fkt-select-invalid-color, var(--fkt-color-danger))}[_nghost-%COMP%]   .select__container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--fkt-color-neutral-400);opacity:0}[_nghost-%COMP%]   .select__container.placeholder.show-placeholder[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]{position:absolute;left:0;top:0;-webkit-user-select:none;user-select:none;pointer-events:none;height:100%;width:100%;display:flex;align-items:flex-end}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{height:100%;border-radius:var(--fkt-select-border-radius, var(--fkt-radius-lg)) 0 0 var(--fkt-select-border-radius, var(--fkt-radius-lg));border-style:solid;border-color:var(--fkt-select-border-color, var(--fkt-color-neutral-400));border-top-width:1px;border-bottom-width:1px;border-left-width:1px;border-right-width:0;width:var(--fkt-select-horizontal-padding, var(--fkt-space-md))}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{height:100%;position:relative;border-style:solid;border-color:var(--fkt-select-border-color, var(--fkt-color-neutral-400));border-top-width:1px;border-bottom-width:1px;border-left-width:0;border-right-width:0;width:fit-content;display:flex;align-items:center}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative;pointer-events:none;font-size:var(--fkt-font-size-sm);transition:var(--fkt-transition-base);color:var(--fkt-select-label-color, var(--fkt-color-neutral-900));white-space:nowrap}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   label.disabled[_ngcontent-%COMP%]{opacity:40%;filter:grayscale(1);cursor:not-allowed}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   label.error[_ngcontent-%COMP%]{color:var(--fkt-select-invalid-color, var(--fkt-color-danger))}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .center.hide-label[_ngcontent-%COMP%]{width:0}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .center.hide-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{height:100%;border-radius:0 var(--fkt-select-border-radius, var(--fkt-radius-lg)) var(--fkt-select-border-radius, var(--fkt-radius-lg)) 0;border-style:solid;border-color:var(--fkt-select-border-color, var(--fkt-color-neutral-400));border-top-width:1px;border-bottom-width:1px;border-left-width:0;border-right-width:1px;width:100%}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border.error[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%], [_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border.error[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], [_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border.error[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{border-color:var(--fkt-select-invalid-color, var(--fkt-color-danger))}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border.error[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--fkt-select-invalid-color, var(--fkt-color-danger))}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border.disabled[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%], [_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border.disabled[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], [_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border.disabled[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{opacity:60%;filter:grayscale(1);cursor:not-allowed}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border.focused[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--fkt-select-label-focus-color, var(--fkt-color-focus-outline))}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border.focused[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], [_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border.focused[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], [_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border.focused[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{border-color:var(--fkt-select-border-focus-color, var(--fkt-color-focus-outline))}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border.float[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{border-top-width:0}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]   .border.float[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{z-index:50;font-size:var(--fkt-font-size-xs);margin:0 var(--fkt-space-3xs);translate:0 calc((var(--fkt-select-vertical-padding, var(--fkt-space-md)) + .5rem) * -1 - 1px)}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]:focus-within   .border[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--fkt-select-label-focus-color, var(--fkt-color-focus-outline))}[_nghost-%COMP%]   .select[_ngcontent-%COMP%]:focus-within   .border[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], [_nghost-%COMP%]   .select[_ngcontent-%COMP%]:focus-within   .border[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%], [_nghost-%COMP%]   .select[_ngcontent-%COMP%]:focus-within   .border[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{border-color:var(--fkt-select-border-focus-color, var(--fkt-color-focus-outline))}.opened[_nghost-%COMP%]   .label-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--fkt-color-accent);z-index:50;scale:90%;translate:calc(var(--fkt-space-3xs) * -1) calc(var(--fkt-space-xl) * -1)}.opened[_nghost-%COMP%]   .select__container[_ngcontent-%COMP%]{border-color:var(--fkt-color-accent)}.opened[_nghost-%COMP%]   .select__container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{opacity:1}.disabled[_nghost-%COMP%]{-webkit-user-select:none;user-select:none}.disabled[_nghost-%COMP%]   .label-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--fkt-color-neutral-400);z-index:50;scale:90%;translate:calc(var(--fkt-space-3xs) * -1) calc(var(--fkt-space-xl) * -1)}.disabled[_nghost-%COMP%]   .select__container[_ngcontent-%COMP%]{border-color:var(--fkt-color-neutral-200);color:var(--fkt-color-neutral-400);cursor:not-allowed}[_nghost-%COMP%]   fkt-field-error[_ngcontent-%COMP%]{padding-left:var(--fkt-space-sm)}"]})};export{y as a,K as b};
