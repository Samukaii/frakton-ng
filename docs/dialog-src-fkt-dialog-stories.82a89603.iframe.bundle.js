"use strict";(self.webpackChunkfrakton_ng=self.webpackChunkfrakton_ng||[]).push([[3151,3335,3611,5667,7239,7419,7871,7999,8027,8601,9563],{"./libs/frakton-ng/forms/src/signal-form-control.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>SignalFormControl});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@angular+core@20.2.3_@angul_c9ee8335d2256103e29db4665678f6ce/node_modules/@angular/core/fesm2022/root_effect_scheduler.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@angular+core@20.2.3_@angul_c9ee8335d2256103e29db4665678f6ce/node_modules/@angular/core/fesm2022/resource.mjs");class SignalFormControl{initialValue;#state;#disabled=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.vPA)(!1);#dirty=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.vPA)(!1);#touched=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.vPA)(!1);validations=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.vPA)([]);value=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.EW)(()=>this.#state?.().modelValue);viewValue=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.EW)(()=>this.#state?.().viewValue);disabled=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.EW)(()=>this.#disabled());touched=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.EW)(()=>this.#touched());dirty=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.EW)(()=>this.#dirty());pristine=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.EW)(()=>!this.#dirty());untouched=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.EW)(()=>!this.#touched());status=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.EW)(()=>{const valid=this.valid();return this.disabled()?"DISABLED":valid?"VALID":"INVALID"});errors=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.EW)(()=>{let errors=null;const validations=this.validations(),value=this.value();return(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.O8)(()=>{validations.forEach(validation=>{const result=validation({value});result&&(errors={...result})})}),errors});invalid=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.EW)(()=>!!this.errors(),{equal:(a,b)=>a===b});valid=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.EW)(()=>!this.invalid());constructor(initialValue,options){this.initialValue=initialValue,this.validations.set(options?.validators??[]),this.#state=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.vPA)({modelValue:initialValue,viewValue:initialValue})}setValue(value,_){(value=>"object"==typeof value&&(null!==value&&["modelValue"in value,"viewValue"in value].every(Boolean)))(value)?this.#state.update(currentState=>({...currentState,modelValue:value.modelValue,viewValue:value.viewValue})):this.#state.update(currentState=>({...currentState,modelValue:value,viewValue:value}))}reset(value){this.setValue(value??this.initialValue)}disable(){this.#disabled.set(!0)}enable(){this.#disabled.set(!1)}markAsTouched(){this.#touched.set(!0)}markAsDirty(){this.#dirty.set(!0)}markAsUntouched(){this.#touched.set(!1)}markAsPristine(){this.#dirty.set(!1)}patchValue(value){this.setValue(value)}}}}]);