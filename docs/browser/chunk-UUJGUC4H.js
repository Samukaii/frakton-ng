import{a as O}from"./chunk-UDRFOVFT.js";import{b as me}from"./chunk-J7FX4UGF.js";import{b as D}from"./chunk-5W56WXRP.js";import{j as b}from"./chunk-N4BPJMYH.js";import{Ab as T,Bb as k,Bc as x,Cb as c,Cc as _,Db as u,Eb as U,Ec as X,Fb as L,Gb as W,Hc as h,Jb as y,Kb as se,Ma as l,Nb as p,Nc as pe,Ob as de,Pb as i,S as re,Wb as j,X as s,Xb as J,Y as d,_b as w,aa as ae,ac as le,bc as A,dc as z,eb as f,gc as P,hc as Y,ia as v,ic as N,la as oe,rb as te,rc as C,sc as ue,tc as g,vb as ie,wb as ce,xc as M,yb as V,zb as I}from"./chunk-AFAM2TWV.js";var he=(o,r)=>r.date;function ge(o,r){if(o&1&&(L(0,"div",5),C(1,"date"),A(2),C(3,"date"),W()),o&2){let e=r.$implicit;te("aria-label",g(1,2,e,"EEEE")),l(2),z(" ",g(3,5,e,"EEE")," ")}}function ke(o,r){if(o&1){let e=y();L(0,"div",6),C(1,"toClass"),de("click",function(){let n=s(e).$implicit;return d(n.onClick==null?null:n.onClick())})("keydown",function(n){let a=s(e),m=a.$implicit,E=a.$index,Z=i();return d(Z.onKeydown(n,m,E))}),A(2),C(3,"date"),W()}if(o&2){let e=r.$implicit,t=r.$index,n=i();le(`calendar__date ${ue(1,13,e.classes)}`),w("calendar__date--clickable",e.onClick)("calendar__date--today",e.isToday)("calendar__date--current-date",e.isCurrentDate),se("tabIndex",t===n.focusedIndex()?0:-1),te("aria-selected",e.isCurrentDate)("aria-disabled",!e.onClick)("data-calendar-idx",t),l(2),z(" ",g(3,15,e.date,"dd")," ")}}function fe(o,r){return o.getFullYear()===r.getFullYear()&&o.getMonth()===r.getMonth()&&o.getDate()===r.getDate()?"equal":o<r?"before":"after"}var $=class o{headerLess=_(!1);currentDate=h(new Date);configFn=_(()=>({}));afterSelect=_(()=>{});yearClick=_(()=>{});monthClick=_(()=>{});document=re(ae);focusedIndex=v(-1);monthPeriod=M(()=>{let r=this.currentDate(),e=new Date(r);e.setHours(0,0,0,0),e.setDate(1);let t=new Date(r);return t.setHours(23,59,59,59),t.setMonth(r.getMonth()+1,0),{startDate:e,endDate:t,daysCount:t.getDate()}});weekdays=M(()=>{let r=[],e=new Date;e.setDate(e.getDate()-e.getDay());for(let t=0;t<7;t++){let n=new Date(e);n.setDate(e.getDate()+t),r.push(n.toISOString())}return r});days=M(()=>{let{daysCount:r}=this.monthPeriod(),e=new Date,t=[],n=this.currentDate();for(let a=1;a<=r;a++){let m=new Date(n);m.setDate(a);let E=fe(m,n)==="equal",Z=fe(m,e)==="equal";if(a===1){let ee=m.getDay();for(let F=1;F<=ee;F++){let S=new Date(m);S.setDate(S.getDate()-F),t.unshift({date:S.toISOString(),classes:["calendar__date--out-of-range"],isCurrentDate:!1,isToday:!1})}}let{classes:Ce=[],onClick:_e}=this.configFn()(m);if(t.push({date:m.toISOString(),onClick:_e,classes:Ce,isCurrentDate:E,isToday:Z}),a===r){let ee=6-m.getDay();for(let F=1;F<=ee;F++){let S=new Date(m);S.setDate(S.getDate()+F),t.push({date:S.toISOString(),classes:["calendar__date--out-of-range"],isCurrentDate:!1,isToday:!1})}}}return t});constructor(){oe(()=>{let e=this.days().findIndex(t=>t.isCurrentDate);this.focusedIndex.set(e>-1?e:0)})}onKeydown(r,e,t){let n=this.days(),a=this.focusedIndex();switch(r.key){case"ArrowRight":r.preventDefault(),a=Math.min(n.length-1,a+1);break;case"ArrowLeft":r.preventDefault(),a=Math.max(0,a-1);break;case"ArrowDown":r.preventDefault(),a=Math.min(n.length-1,a+7);break;case"ArrowUp":r.preventDefault(),a=Math.max(0,a-7);break;case"Enter":case" ":r.preventDefault(),e.onClick&&e.onClick();break;default:return}a!==this.focusedIndex()&&(this.focusedIndex.set(a),r.preventDefault(),setTimeout(()=>{this.document.querySelector(`[data-calendar-idx="${a}"]`)?.focus()}))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["fkt-calendar-date-selector"]],inputs:{headerLess:[1,"headerLess"],currentDate:[1,"currentDate"],configFn:[1,"configFn"],afterSelect:[1,"afterSelect"],yearClick:[1,"yearClick"],monthClick:[1,"monthClick"]},outputs:{currentDate:"currentDateChange"},decls:7,vars:0,consts:[["role","grid","aria-label","Calend\xE1rio",1,"calendar"],["role","row",1,"calendar__row"],["role","columnheader",1,"calendar__weekday",3,"aria-label"],["role","rowgroup",1,"calendar__dates"],["role","gridcell",3,"class","tabindex","calendar__date--clickable","calendar__date--today","calendar__date--current-date"],["role","columnheader",1,"calendar__weekday"],["role","gridcell",3,"click","keydown","tabindex"]],template:function(e,t){e&1&&(L(0,"div",0)(1,"div",1),I(2,ge,4,8,"div",2,V),W(),L(4,"div",3),I(5,ke,4,18,"div",4,he),W()()),e&2&&(l(2),T(t.weekdays()),l(3),T(t.days()))},dependencies:[b,me],styles:["[_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.calendar__date[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;transition:var(--fkt-transition-base);border:solid 1px transparent;aspect-ratio:1;display:flex;justify-content:center;align-items:center;border-radius:var(--fkt-calendar-date-border-radius, var(--fkt-radius-full));margin:var(--fkt-calendar-date-margin, var(--fkt-space-2xs));min-width:var(--fkt-calendar-date-size, 40px);min-height:var(--fkt-calendar-date-size, 40px);outline:none}.calendar__date[_ngcontent-%COMP%]:focus-visible{box-shadow:var(--fkt-focus-ring-shadow)}.calendar__date--clickable[_ngcontent-%COMP%]{cursor:pointer}.calendar__date--clickable[_ngcontent-%COMP%]:hover{background-color:var(--fkt-calendar-date-hover-bg, var(--fkt-color-primary-opacity-20))}.calendar__date--today[_ngcontent-%COMP%]{border:solid 1px var(--fkt-calendar-date-today-border-color, var(--fkt-color-neutral-600))}.calendar__date--current-date[_ngcontent-%COMP%]{background-color:var(--fkt-calendar-date-selected-bg, var(--fkt-color-primary));color:var(--fkt-calendar-date-selected-color, var(--fkt-color-on-primary))}.calendar__date--out-of-range[_ngcontent-%COMP%]{opacity:var(--fkt-calendar-date-out-of-range-opacity, .3)}.calendar__dates[_ngcontent-%COMP%], .calendar__row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,minmax(0,1fr))}.calendar[_ngcontent-%COMP%]{width:100%;gap:var(--fkt-calendar-grid-gap, var(--fkt-space-2xs))}.calendar__weekday[_ngcontent-%COMP%]{text-align:center;text-transform:capitalize;color:var(--fkt-calendar-weekday-color, var(--fkt-color-neutral-700));font-weight:var(--fkt-calendar-weekday-font-weight, var(--fkt-font-medium));font-size:var(--fkt-calendar-weekday-font-size, var(--fkt-font-size-sm));padding:var(--fkt-calendar-date-margin, var(--fkt-space-2xs)) 0}"]})};function De(o,r){if(o&1){let e=y();c(0,"fkt-button",2),C(1,"date"),p("click",function(){let n=s(e).$index,a=i();return d(a.selectMonth(n))})("focus",function(){let n=s(e).$index,a=i();return d(a.focusedIndex.set(n))}),u()}if(o&2){let e=r.$index,t=i();w("selected",e===t.selectedIndex),k("tabIndex",e===t.focusedIndex()?0:-1)("text",g(1,4,t.months[e],"MMMM")??"")}}var K=class o{headerLess=_(!1);currentDate=h(new Date);back=x();yearClick=x();colCount=3;months=Array.from({length:12},(r,e)=>{let t=new Date;return t.setMonth(e,1),t.setFullYear(this.currentDate().getFullYear()),t});focusedIndex=v(0);monthButtons=X(D);get selectedIndex(){return this.currentDate().getMonth()}selectMonth(r){this.currentDate.update(e=>{let t=new Date(e);return t.setMonth(r),t}),this.back.emit()}onGridKeydown(r){let e=this.months.length,t=this.focusedIndex();switch(r.key){case"ArrowLeft":t=this.focusedIndex()%this.colCount===0?Math.min(e-1,this.focusedIndex()+this.colCount-1):this.focusedIndex()-1;break;case"ArrowRight":t=this.focusedIndex()%this.colCount===this.colCount-1||this.focusedIndex()===e-1?this.focusedIndex()-(this.colCount-1)>=0?this.focusedIndex()-(this.colCount-1):0:this.focusedIndex()+1,t>=e&&(t=this.focusedIndex()-(this.colCount-1));break;case"ArrowUp":if(t=this.focusedIndex()-this.colCount,t<0){let n=Math.floor((e-1)/this.colCount)*this.colCount,a=this.focusedIndex()%this.colCount;t=n+a,t>=e&&(t=e-1)}break;case"ArrowDown":t=this.focusedIndex()+this.colCount,t>=e&&(t=this.focusedIndex()%this.colCount);break;case"Home":t=0;break;case"End":t=e-1;break;case"Enter":case" ":case"Spacebar":this.selectMonth(this.focusedIndex()),r.preventDefault();return;default:return}this.focusedIndex.set(t),setTimeout(()=>{this.monthButtons()[t]?.focus()},0)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["fkt-calendar-month-selector"]],viewQuery:function(e,t){e&1&&j(t.monthButtons,D,5),e&2&&J()},inputs:{headerLess:[1,"headerLess"],currentDate:[1,"currentDate"]},outputs:{currentDate:"currentDateChange",back:"back",yearClick:"yearClick"},decls:3,vars:0,consts:[["role","grid",1,"container",3,"keydown"],["role","gridcell","theme","basic","shape","rect",3,"tabIndex","text","selected"],["role","gridcell","theme","basic","shape","rect",3,"click","focus","tabIndex","text"]],template:function(e,t){e&1&&(c(0,"div",0),p("keydown",function(a){return t.onGridKeydown(a)}),I(1,De,2,7,"fkt-button",1,V),u()),e&2&&(l(),T(t.months))},dependencies:[D,b],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));width:100%;gap:var(--fkt-calendar-month-selector-gap, var(--fkt-space-sm))}.container[_ngcontent-%COMP%]   fkt-button[_ngcontent-%COMP%]{width:100%}"]})};function ye(o,r){if(o&1){let e=y();c(0,"fkt-button",2),C(1,"date"),p("click",function(){let n=s(e).$implicit,a=i();return d(a.selectYear(n))})("focus",function(){let n=s(e).$index,a=i();return d(a.focusedIndex.set(n))}),u()}if(o&2){let e=r.$index,t=i();w("selected",e===t.selectedIndex),k("tabIndex",e===t.focusedIndex()?0:-1)("text",g(1,4,t.years()[e],"yyyy")??"")}}var q=class o{headerLess=_(!1);currentDate=h(new Date);configFn=_(()=>({}));back=x();years=M(()=>{let e=this.currentDate().getFullYear(),t=e-e%10,n=t+10,a=[];for(let m=t;m<=n;m++){let E=new Date;E.setFullYear(m),a.push(E)}return a});colCount=3;focusedIndex=v(0);monthButtons=X(D);get selectedIndex(){return this.currentDate().getMonth()}selectYear(r){this.currentDate.update(e=>{let t=new Date(e);return t.setFullYear(r.getFullYear()),t}),this.back.emit()}onGridKeydown(r){let e=this.years().length,t=this.focusedIndex();switch(r.key){case"ArrowLeft":t=this.focusedIndex()%this.colCount===0?Math.min(e-1,this.focusedIndex()+this.colCount-1):this.focusedIndex()-1;break;case"ArrowRight":t=this.focusedIndex()%this.colCount===this.colCount-1||this.focusedIndex()===e-1?this.focusedIndex()-(this.colCount-1)>=0?this.focusedIndex()-(this.colCount-1):0:this.focusedIndex()+1,t>=e&&(t=this.focusedIndex()-(this.colCount-1));break;case"ArrowUp":if(t=this.focusedIndex()-this.colCount,t<0){let n=Math.floor((e-1)/this.colCount)*this.colCount,a=this.focusedIndex()%this.colCount;t=n+a,t>=e&&(t=e-1)}break;case"ArrowDown":t=this.focusedIndex()+this.colCount,t>=e&&(t=this.focusedIndex()%this.colCount);break;case"Home":t=0;break;case"End":t=e-1;break;case"Enter":case" ":case"Spacebar":this.selectYear(this.years()[this.focusedIndex()]),r.preventDefault();return;default:return}this.focusedIndex.set(t),setTimeout(()=>{this.monthButtons()[t]?.focus()},0)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["fkt-calendar-year-selector"]],viewQuery:function(e,t){e&1&&j(t.monthButtons,D,5),e&2&&J()},inputs:{headerLess:[1,"headerLess"],currentDate:[1,"currentDate"],configFn:[1,"configFn"]},outputs:{currentDate:"currentDateChange",back:"back"},decls:3,vars:0,consts:[["role","grid",1,"container",3,"keydown"],["role","gridcell","theme","basic","shape","rect",3,"tabIndex","text","selected"],["role","gridcell","theme","basic","shape","rect",3,"click","focus","tabIndex","text"]],template:function(e,t){e&1&&(c(0,"div",0),p("keydown",function(a){return t.onGridKeydown(a)}),I(1,ye,2,7,"fkt-button",1,V),u()),e&2&&(l(),T(t.years()))},dependencies:[D,b],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));width:100%;gap:var(--fkt-calendar-year-selector-gap, var(--fkt-space-sm))}.container[_ngcontent-%COMP%]   fkt-button[_ngcontent-%COMP%]{width:100%}"]})};var Q=class o{currentDate=h(new Date);yearClick=x();previous(){this.currentDate.update(r=>{let e=new Date(r);return e.setFullYear(e.getFullYear()-1),e})}next(){this.currentDate.update(r=>{let e=new Date(r);return e.setFullYear(e.getFullYear()+1),e})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["fkt-calendar-year-header"]],inputs:{currentDate:[1,"currentDate"]},outputs:{currentDate:"currentDateChange",yearClick:"yearClick"},decls:4,vars:4,consts:[[3,"next","previous"],[1,"container"],["theme","basic","shape","rect",3,"click","text"]],template:function(e,t){e&1&&(c(0,"fkt-navigator",0),p("next",function(){return t.next()})("previous",function(){return t.previous()}),c(1,"div",1)(2,"fkt-button",2),C(3,"date"),p("click",function(){return t.yearClick.emit()}),u()()()),e&2&&(l(2),k("text",g(3,1,t.currentDate(),"yyyy")))},dependencies:[O,D,b],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]})};var R=class o{currentDate=h(new Date);yearClick=x();monthClick=x();previous(){this.currentDate.update(r=>{let e=new Date(r);return e.setMonth(e.getMonth()-1),e})}next(){this.currentDate.update(r=>{let e=new Date(r);return e.setMonth(e.getMonth()+1),e})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["fkt-calendar-month-header"]],inputs:{currentDate:[1,"currentDate"]},outputs:{currentDate:"currentDateChange",yearClick:"yearClick",monthClick:"monthClick"},decls:6,vars:8,consts:[[3,"next","previous"],[1,"container"],["theme","basic","shape","rect",1,"container__month",3,"click","text"],["theme","basic","shape","rect",1,"container__year",3,"click","text"]],template:function(e,t){e&1&&(c(0,"fkt-navigator",0),p("next",function(){return t.next()})("previous",function(){return t.previous()}),c(1,"div",1)(2,"fkt-button",2),C(3,"date"),p("click",function(){return t.monthClick.emit()}),u(),c(4,"fkt-button",3),C(5,"date"),p("click",function(){return t.yearClick.emit()}),u()()()),e&2&&(l(2),k("text",g(3,2,t.currentDate(),"MMMM")),l(2),k("text",g(5,5,t.currentDate(),"yyyy")))},dependencies:[O,D,b],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--fkt-calendar-month-header-gap, var(--fkt-space-sm))}"]})};var G=class o{currentDate=h(new Date);currentDecade=M(()=>{let e=this.currentDate().getFullYear(),t=e-e%10,n=t+10;return`${t} - ${n}`});previous(){this.currentDate.update(r=>{let e=new Date(r);return e.setFullYear(e.getFullYear()-10),e})}next(){this.currentDate.update(r=>{let e=new Date(r);return e.setFullYear(e.getFullYear()+10),e})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["fkt-calendar-multi-year-header"]],inputs:{currentDate:[1,"currentDate"]},outputs:{currentDate:"currentDateChange"},decls:4,vars:1,consts:[[3,"next","previous"],[1,"container"]],template:function(e,t){e&1&&(c(0,"fkt-navigator",0),p("next",function(){return t.next()})("previous",function(){return t.previous()}),c(1,"div",1)(2,"strong"),A(3),u()()()),e&2&&(l(3),z(" ",t.currentDecade()," "))},dependencies:[O],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--fkt-calendar-multi-year-header-gap, var(--fkt-space-sm))}.container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{padding:var(--fkt-calendar-multi-year-header-vertical-padding, 0) var(--fkt-calendar-multi-year-header-horizontal-padding, var(--fkt-space-xs));font-weight:var(--fkt-calendar-multi-year-header-font-weight, var(--fkt-font-semibold));font-size:var(--fkt-calendar-multi-year-header-font-size, var(--fkt-font-size-lg));color:var(--fkt-calendar-multi-year-header-color, var(--fkt-color-neutral-900));background-color:var(--fkt-calendar-multi-year-header-bg, rgba(0, 0, 0, 0));border-radius:var(--fkt-calendar-multi-year-header-border-radius, var(--fkt-radius-md));transition:var(--fkt-transition-base)}"]})};function xe(o,r){if(o&1){let e=y();c(0,"fkt-calendar-month-header",0),p("yearClick",function(){s(e);let n=i();return d(n.selectStep("year"))})("monthClick",function(){s(e);let n=i();return d(n.selectStep("month"))}),N("currentDateChange",function(n){s(e);let a=i();return Y(a.currentDate,n)||(a.currentDate=n),d(n)}),u(),U(1,"hr",1),c(2,"fkt-calendar-date-selector",2),N("currentDateChange",function(n){s(e);let a=i();return Y(a.currentDate,n)||(a.currentDate=n),d(n)}),u()}if(o&2){let e=i();P("currentDate",e.currentDate),l(2),k("configFn",e.configFn()),P("currentDate",e.currentDate)}}function be(o,r){if(o&1){let e=y();c(0,"fkt-calendar-year-header",3),p("yearClick",function(){s(e);let n=i();return d(n.selectStep("year"))}),N("currentDateChange",function(n){s(e);let a=i();return Y(a.currentDate,n)||(a.currentDate=n),d(n)}),u(),U(1,"hr",1),c(2,"fkt-calendar-month-selector",4),N("currentDateChange",function(n){s(e);let a=i();return Y(a.currentDate,n)||(a.currentDate=n),d(n)}),p("back",function(){s(e);let n=i();return d(n.goBackToLastStep())}),u()}if(o&2){let e=i();P("currentDate",e.currentDate),l(2),P("currentDate",e.currentDate)}}function ve(o,r){if(o&1){let e=y();c(0,"fkt-calendar-multi-year-header",5),N("currentDateChange",function(n){s(e);let a=i();return Y(a.currentDate,n)||(a.currentDate=n),d(n)}),u(),U(1,"hr",1),c(2,"fkt-calendar-year-selector",6),N("currentDateChange",function(n){s(e);let a=i();return Y(a.currentDate,n)||(a.currentDate=n),d(n)}),p("back",function(){s(e);let n=i();return d(n.goBackToLastStep())}),u()}if(o&2){let e=i();P("currentDate",e.currentDate),l(2),k("configFn",e.configFn()),P("currentDate",e.currentDate)}}var ne=class o{configFn=_(()=>({}));currentDate=h(new Date);borderless=_(!1,{transform:pe});step=v("date");lastStep=this.step();selectStep(r){this.lastStep=this.step(),this.step.set(r)}goBackToLastStep(){this.lastStep==="year"?this.selectStep("date"):this.selectStep(this.lastStep)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=f({type:o,selectors:[["fkt-calendar"]],hostVars:2,hostBindings:function(e,t){e&2&&w("with-border",!t.borderless())},inputs:{configFn:[1,"configFn"],currentDate:[1,"currentDate"],borderless:[1,"borderless"]},outputs:{currentDate:"currentDateChange"},decls:3,vars:1,consts:[[3,"yearClick","monthClick","currentDateChange","currentDate"],[1,"fkt-vertical-separator"],[3,"currentDateChange","configFn","currentDate"],[3,"yearClick","currentDateChange","currentDate"],[3,"currentDateChange","back","currentDate"],[3,"currentDateChange","currentDate"],[3,"currentDateChange","back","configFn","currentDate"]],template:function(e,t){if(e&1&&ie(0,xe,3,3)(1,be,3,2)(2,ve,3,3),e&2){let n;ce((n=t.step())==="date"?0:n==="month"?1:n==="year"?2:-1)}},dependencies:[$,K,q,Q,R,G],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;width:var(--fkt-calendar-width, 100%);height:var(--fkt-calendar-height, fit-content);box-sizing:border-box;background-color:var(--fkt-calendar-background-color, var(--fkt-color-modal-background));color:var(--fkt-calendar-text-color, var(--fkt-color-neutral-900));gap:var(--fkt-calendar-gap, var(--fkt-space-md))}.with-border[_nghost-%COMP%]{border:solid 1px var(--fkt-calendar-border-color, var(--fkt-color-neutral-300));padding:var(--fkt-calendar-padding, var(--fkt-space-lg));border-radius:var(--fkt-calendar-border-radius, var(--fkt-radius-lg));box-shadow:var(--fkt-calendar-box-shadow, var(--fkt-shadow-lg))}"]})};export{$ as a,K as b,q as c,Q as d,R as e,G as f,ne as g};
