import{a as G}from"./chunk-CWG4WCSE.js";import{a as Z,d as h}from"./chunk-6QB3RJ5Q.js";import{b as U,l as $}from"./chunk-7BDPT3QJ.js";import{a as Q}from"./chunk-KI4A6YQJ.js";import{$b as F,Ab as x,Fb as j,Gb as K,Jb as _,La as d,Lb as L,M as I,R as N,Sb as w,Tb as W,W as C,X as b,Xb as M,Zb as O,ab as D,db as f,hb as B,ia as E,pc as q,sb as z,tb as H,tc as u,xb as V,xc as A,yb as c,yc as o,zb as s,zc as T}from"./chunk-BXWRRZR7.js";import{a as r,b as g}from"./chunk-A25UGBQK.js";var ee=["container"];function te(i,e){}var y=class i{backdropClick=A();escapeKeyDown=A();id=o("fit-content");stackIndex=o(9999);styles=o({});height=o("fit-content");width=o("100%");maxHeight=o("90vh");maxWidth=o("1200px");borderRadius=o("1rem");backgroundColor=o("var(--fkt-color-modal-background)");backdropStyles=o({"background-color":"red"});padding=o("1rem");container=T.required("container",{read:D});focusTrap=T.required(h);computedStyles=u(()=>r({height:this.height(),width:this.width(),"max-width":this.maxWidth(),"max-height":this.maxHeight(),"border-radius":this.borderRadius(),"background-color":this.backgroundColor(),padding:this.padding()},this.styles()??{}));restoreFocus(){this.focusTrap().restoreFocus()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=f({type:i,selectors:[["fkt-dialog-host"]],viewQuery:function(t,n){t&1&&(w(n.container,ee,5,D),w(n.focusTrap,h,5)),t&2&&W(2)},hostVars:1,hostBindings:function(t,n){t&2&&K("id",n.id())},inputs:{id:[1,"id"],stackIndex:[1,"stackIndex"],styles:[1,"styles"],height:[1,"height"],width:[1,"width"],maxHeight:[1,"maxHeight"],maxWidth:[1,"maxWidth"],borderRadius:[1,"borderRadius"],backgroundColor:[1,"backgroundColor"],backdropStyles:[1,"backdropStyles"],padding:[1,"padding"]},outputs:{backdropClick:"backdropClick",escapeKeyDown:"escapeKeyDown"},decls:4,vars:4,consts:[["container",""],[1,"backdrop",3,"click"],["fktFocusTrap","",1,"container",3,"keydown.esc"]],template:function(t,n){if(t&1){let a=j();c(0,"div",1),_("click",function(){return C(a),b(n.backdropClick.emit())}),s(),c(1,"div",2),_("keydown.esc",function(l){return C(a),l.stopPropagation(),b(n.escapeKeyDown.emit())}),B(2,te,0,0,"ng-template",null,0,q),s()}t&2&&(M(n.backdropStyles()),d(),M(n.computedStyles()))},dependencies:[h],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}[_nghost-%COMP%]{position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:center;top:0;left:0}.backdrop[_ngcontent-%COMP%]{background-color:#0005;width:100%;height:100%;position:absolute;top:0}.container[_ngcontent-%COMP%]{overflow-x:hidden;display:flex;flex-direction:column;z-index:20;padding:var(--padding)}"]})};function ne(i,e){if(i&1&&(c(0,"p",3),O(1),s()),i&2){let t=L();d(),F(" ",t.description()," ")}}var k=class i{title=o.required();description=o();actions=o();confirmActions=u(()=>{let{primary:e,secondary:t}=this.actions()||{},n=r({identifier:"primary",text:"Confirmar",color:"danger"},e),a=r({identifier:"secondary",text:"Voltar",theme:"stroked"},t);return[n,a]});static \u0275fac=function(t){return new(t||i)};static \u0275cmp=f({type:i,selectors:[["fkt-dialog-confirm-action"]],inputs:{title:[1,"title"],description:[1,"description"],actions:[1,"actions"]},decls:7,vars:3,consts:[[1,"content"],["name","exclamation-triangle"],[1,"content__title"],[1,"content__description"],[1,"actions"],["orientation","vertical","fill","",3,"actions"]],template:function(t,n){t&1&&(c(0,"div",0),x(1,"fkt-icon",1),c(2,"h3",2),O(3),s(),z(4,ne,2,1,"p",3),s(),c(5,"div",4),x(6,"fkt-buttons-list",5),s()),t&2&&(d(3),F(" ",n.title()," "),d(),H(n.description()?4:-1),d(2),V("actions",n.confirmActions()))},dependencies:[G,Q],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;color:var(--fkt-color-neutral-950)}p[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]{padding:var(--fkt-space-xs);width:400px;display:block}.content[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.content[_ngcontent-%COMP%]   fkt-icon[_ngcontent-%COMP%]{font-size:80px;color:var(--fkt-color-danger)}.content__title[_ngcontent-%COMP%]{font-size:var(--fkt-font-size-lg);text-align:center;font-weight:var(--fkt-font-semibold);margin:var(--fkt-space-md) 0;width:300px}.content__description[_ngcontent-%COMP%]{color:var(--fkt-color-neutral-600)}.actions[_ngcontent-%COMP%]{display:flex;margin-top:var(--fkt-space-md);justify-content:center}.actions[_ngcontent-%COMP%]   fkt-buttons-list[_ngcontent-%COMP%]{width:100%}"]})};var P=class i{anchorService=N(Z);overlays=E(new Map);open(e){if(!e.panelOptions?.allowDuplicates){let p=this.findRefByComponent(e.component);if(p)return p}if(e.panelOptions?.id&&!this.canUseId(e.panelOptions.id))throw new Error(`The overlay id "${e.panelOptions.id}" is already in use. Please choose a different id.`);let t=e.panelOptions?.id??this.createId(),n=()=>{this.overlays().delete(t),e.panelOptions?.focusTriggerOnClose!==!1&&l.componentRef.instance.restoreFocus(),l.destroy(),S.destroy()},a=this.getLastZIndex()+1,m=e.panelOptions?.styles??{};if(e.panelOptions?.inheritDesignTokensFrom){let p=e?.panelOptions.inheritDesignTokensFrom,v;p instanceof HTMLElement?v=$(p):v=p,m=r(r({},m),v)}let l=this.anchorService.createAnchor(y,g(r({id:t,stackIndex:a,styles:m},e?.panelOptions),{backdropStyles:e?.backdropStyles,escapeKeyDown:()=>{e?.panelOptions?.onEscapeKeyDown?.(),n()},backdropClick:()=>{e?.panelOptions?.onBackdropClick?.(),n()}})),X=l.componentRef.location.nativeElement;X.style.zIndex=a.toString();let S=l.componentRef.instance.container().createComponent(e.component,{bindings:U(e.component,e.data)}),R={componentRef:S,stackIndex:a,close:n};return this.registerOverlay(t,R),R}confirm(e){let t=this.open({component:k,data:g(r({},e),{actions:g(r({},e.actions),{secondary:g(r({},e.actions?.secondary),{click:()=>{e.actions?.secondary?.click?.(null),t.close()}})})}),panelOptions:{width:"fit-content",onBackdropClick:()=>{e?.onBackdropClick?.()}}});return t}closeAll(){Array.from(this.overlays().values()).forEach(e=>{e.close()})}findRefByComponent(e){return Array.from(this.overlays().values()).find(n=>n.componentRef.componentType===e)}canUseId(e){return!this.overlays().has(e)}registerOverlay(e,t){let n=new Map(this.overlays());n.set(e,t),this.overlays.set(n)}getLastZIndex(){return this.overlays().size+9999}createId(){let e=1,t=`overlay-container-${e}`;for(;!this.canUseId(t);)e++,t=`overlay-container-${e}`;return t}static \u0275fac=function(t){return new(t||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};export{P as a};
