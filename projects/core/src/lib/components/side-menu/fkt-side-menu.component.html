<app-sidebar
	mode="push"
	[width]="service.opened() ? '350px' : '80px'"
	[opened]="true"
	(backdropClick)="service.close()">
	<div class="w-full h-full flex flex-col"
		 side-main>
		<ng-content />
	</div>
	<div class="bg-gray-900 border-t border-gray-700 w-full h-full flex flex-col justify-between"
		 side-content>
		<div class="flex z-20 flex-col p-3">
			<div class="flex flex-col gap-2">
				<div class="flex flex-col">
					@for (group of groups; track group.name) {
						@if (group.name) {
							<div
								[style.max-height]="service.opened() ? '50px' : '0px'"
								class="transition-[max-height] overflow-hidden">
								<h2 class="text-gray-400 mt-4 mb-1">{{ group.name }}</h2>

							</div>
							<div
								[class.hidden]="!service.opened() && $first"
								[class.mt-4]="!service.opened()"
								class="mb-4">
								<hr class="border-gray-600">
							</div>
						} @else {
							@if (!$first) {
								<div class="mb-4 mt-6">
									<hr class="border-gray-600">
								</div>
							}
						}
						<div
							class="flex flex-col gap-2">
							@for (menu of group.items; track menu.path) {
								<div
									[appTooltip]="menu.name"
									position="right-center"
									[tooltipEnabled]="!service.opened()"
									[routerLink]="menu.path"
									class="w-full bg-gray-700 bg-opacity-50 items-center flex gap-2 text-white rounded-lg cursor-pointer transition hover:bg-gray-600 p-3"
									routerLinkActive="!bg-gray-600 bg-opacity-100"
								>
									<app-icon
										class="!text-3xl"
										[name]="menu.icon" />
									@if (service.opened()) {
										<p class="whitespace-nowrap">
											{{ menu.name }}
										</p>
									}

								</div>
							}
						</div>
					}
				</div>

			</div>
		</div>


	</div>
</app-sidebar>
