import {ArgTypes, Canvas, Controls, Meta} from '@storybook/addon-docs/blocks';
import * as fktSpinnerStories from './fkt-spinner.stories';

<Meta of={fktSpinnerStories} />

The **FktSpinner** component provides a customizable loading indicator with configurable size, stroke width, and color themes. It's designed to give users visual feedback during loading states and async operations.

## Key Features

- **Configurable Size**: Adjustable spinner diameter
- **Stroke Width Control**: Customizable border thickness
- **Color Themes**: Multiple predefined color options
- **CSS Custom Properties**: Uses modern CSS variables for styling
- **Lightweight**: Minimal DOM structure with pure CSS animation
- **Responsive**: Scales appropriately in different containers
- **Accessibility**: Screen reader friendly loading indicator
- **Performance**: Hardware-accelerated CSS animations

## Configuration Options

<ArgTypes/>

### FktColor Type
```typescript
type FktColor = 'primary' | 'yellow' | 'red' | 'green';
```

## Examples

### Size Variations

Spinners with different sizes for various use cases and container sizes.

<Canvas sourceState="none" of={fktSpinnerStories.SizeVariations} />
<p></p>
___
<Controls include={['stroke', 'color']} of={fktSpinnerStories.SizeVariations} />

```typescript
@Component({
	selector: 'fkt-spinner-example-size-variations',
	imports: [
		FktSpinnerComponent
	],
	template: `
		<div class="flex items-center gap-6">
			<div class="text-center">
				<fkt-spinner [size]="24" [stroke]="stroke()" [color]="color()"/>
				<p class="mt-2 text-sm text-gray-600">Small (24px)</p>
			</div>
			<div class="text-center">
				<fkt-spinner [size]="48" [stroke]="stroke()" [color]="color()"/>
				<p class="mt-2 text-sm text-gray-600">Medium (48px)</p>
			</div>
			<div class="text-center">
				<fkt-spinner [size]="72" [stroke]="stroke()" [color]="color()"/>
				<p class="mt-2 text-sm text-gray-600">Large (72px)</p>
			</div>
		</div>
	`,
	styleUrl: './fkt-spinner-example-size-variations.component.scss'
})
export class FktSpinnerExampleSizeVariationsComponent {
	stroke = input(4);
	color = input<FktColor>('primary');
}
```

### Color Themes

Spinners showcasing different color themes for various semantic meanings.

<Canvas sourceState="none" of={fktSpinnerStories.ColorThemes} />
<p></p>
___
<Controls include={['stroke', 'size']} of={fktSpinnerStories.ColorThemes} />

```typescript
@Component({
	selector: 'fkt-spinner-example-color-themes',
	imports: [
		FktSpinnerComponent
	],
	template: `
		<div class="container">
			<div class="container__item">
				<fkt-spinner [size]="size()" [stroke]="stroke()" color="primary"/>
				<p class="mt-2 text-sm text-gray-600">Primary</p>
			</div>
			<div class="container__item">
				<fkt-spinner [size]="size()" [stroke]="stroke()" color="green"/>
				<p class="mt-2 text-sm text-gray-600">Green</p>
			</div>
			<div class="container__item">
				<fkt-spinner [size]="size()" [stroke]="stroke()" color="yellow"/>
				<p class="mt-2 text-sm text-gray-600">Yellow</p>
			</div>
			<div class="container__item">
				<fkt-spinner [size]="size()" [stroke]="stroke()" color="red"/>
				<p class="mt-2 text-sm text-gray-600">Red</p>
			</div>
		</div>
	`,
	styleUrl: './fkt-spinner-example-color-themes.component.scss'
})
export class FktSpinnerExampleColorThemesComponent {
	size = input(40);
	stroke = input(4);
}
```

### Loading State

Spinner used in a typical loading state scenario with conditional display.

<Canvas sourceState="none" of={fktSpinnerStories.LoadingState} />
<p></p>
___
<Controls include={['stroke', 'size', 'color']} of={fktSpinnerStories.LoadingState} />

```typescript
@Component({
	selector: 'fkt-spinner-example-loading-state',
	imports: [
		FktSpinnerComponent,
		FktButtonComponent,
		FktIconComponent
	],
	template: `
		<div class="container">
			@if (isLoading()) {
				<div class="container__loading">
					<fkt-spinner [size]="size()" [stroke]="stroke()" [color]="color()" />
					<span>Loading data...</span>
				</div>
			} @else {
				<div class="container__success">
					<fkt-icon
						name="check"
					/>
					Data loaded successfully!
				</div>
			}

			<fkt-button
				(click)="toggleLoading()"
				[text]="isLoading() ? 'Stop Loading' : 'Start Loading'"
			>
			</fkt-button>
		</div>
	`,
	styleUrl: './fkt-spinner-example-loading-state.component.scss'
})
export class FktSpinnerExampleLoadingStateComponent {
	size = input(40);
	stroke = input(4);
	color = input<FktColor>('primary');

	protected isLoading = signal(false);

	protected toggleLoading() {
		this.isLoading.update(loading => !loading);
	}
}
```

### Custom Configuration

Spinner with dynamic configuration based on different states or conditions.

<Canvas sourceState="none" of={fktSpinnerStories.CustomConfiguration} />
<p></p>
___
<Controls include={['color', 'size']} of={fktSpinnerStories.CustomConfiguration} />

```typescript
@Component({
	selector: 'fkt-spinner-example-custom-configuration',
	imports: [
		FktSpinnerComponent
	],
	template: `
		<div class="container">
			<div class="container__item">
				<fkt-spinner
					[size]="size()"
					[stroke]="8"
					color="green"
				/>
				<p>Thick stroke (8px)</p>
			</div>
			<div class="container__item">
				<fkt-spinner
					[size]="size()"
					[stroke]="2"
					color="primary"
				/>
				<p>Thin stroke (2px)</p>
			</div>
		</div>
	`,
	styleUrl: './fkt-spinner-example-custom-configuration.component.scss'
})
export class FktSpinnerExampleCustomConfigurationComponent {
	size = input(96);
	color = input<FktColor>('primary');
}
```

## Use Cases

Perfect for loading states, button loading indicators, table loading overlays, search results, file uploads, and any async operation requiring user feedback. Ideal for integration with HTTP interceptors and form validation.

## Accessibility

- **ARIA Labels**: Can be enhanced with loading announcements
- **Screen Reader Support**: Semantic loading indication
- **Reduced Motion**: Respects user's motion preferences
- **Focus Management**: Does not interfere with focus flow

## Performance

- **CSS Animations**: Uses hardware-accelerated CSS transforms
- **No JavaScript Animation**: Pure CSS for better performance
- **Lightweight DOM**: Minimal HTML structure
- **Memory Efficient**: No complex state or subscriptions

